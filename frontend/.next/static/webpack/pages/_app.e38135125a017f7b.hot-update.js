"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/_app",{

/***/ "./src/utils/organizationContext.js":
/*!******************************************!*\
  !*** ./src/utils/organizationContext.js ***!
  \******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OrganizationProvider: function() { return /* binding */ OrganizationProvider; },\n/* harmony export */   useOrganization: function() { return /* binding */ useOrganization; },\n/* harmony export */   useOrganizationApi: function() { return /* binding */ useOrganizationApi; },\n/* harmony export */   withOrganization: function() { return /* binding */ withOrganization; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _hooks_useAuth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../hooks/useAuth */ \"./src/hooks/useAuth.js\");\n/* harmony import */ var _apiUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./apiUtils */ \"./src/utils/apiUtils.js\");\n/**\n * Organization Context Utility\n * \n * This utility handles organization switching and management in the frontend.\n */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$();\n\n\n\n// Create organization context\nconst OrganizationContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(null);\n/**\n * Organization Provider component\n * Provides organization context to the application\n */ function OrganizationProvider(param) {\n    let { children } = param;\n    _s();\n    const { user, isAuthenticated } = (0,_hooks_useAuth__WEBPACK_IMPORTED_MODULE_2__.useAuth)();\n    const [organizations, setOrganizations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentOrganization, setCurrentOrganization] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Fetch user's organizations\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isAuthenticated) {\n            fetchUserOrganizations();\n        } else {\n            setOrganizations([]);\n            setCurrentOrganization(null);\n            setLoading(false);\n        }\n    }, [\n        isAuthenticated,\n        user\n    ]);\n    // Fetch user's organizations from API\n    const fetchUserOrganizations = async ()=>{\n        try {\n            setLoading(true);\n            const data = await (0,_apiUtils__WEBPACK_IMPORTED_MODULE_3__.apiGet)(\"/api/organizations\");\n            setOrganizations(data.organizations || []);\n            // Set current organization to the default one or the first in the list\n            const defaultOrg = data.organizations.find((org)=>org.is_default);\n            setCurrentOrganization(defaultOrg || data.organizations[0] || null);\n            setLoading(false);\n        } catch (err) {\n            console.error(\"Error fetching organizations:\", err);\n            // For development, use mock data if API call fails\n            if (true) {\n                console.log(\"Using mock organization data for development\");\n                const mockOrgs = [\n                    {\n                        id: \"org1\",\n                        name: \"Metro Health Services\",\n                        slug: \"metro-health\",\n                        description: \"Main healthcare services organization\",\n                        role: \"owner\",\n                        is_default: true,\n                        type: \"healthcare_facility\"\n                    },\n                    {\n                        id: \"org2\",\n                        name: \"Western Cape Medical\",\n                        slug: \"western-cape-medical\",\n                        description: \"Regional healthcare provider\",\n                        role: \"member\",\n                        is_default: false,\n                        type: \"service_provider\"\n                    },\n                    {\n                        id: \"org3\",\n                        name: \"Cape Town Clinic\",\n                        slug: \"cape-town-clinic\",\n                        description: \"Local medical clinic\",\n                        role: \"admin\",\n                        is_default: false,\n                        type: \"direct_client\"\n                    }\n                ];\n                setOrganizations(mockOrgs);\n                setCurrentOrganization(mockOrgs[0]);\n            }\n            setError(err.message);\n            setLoading(false);\n        }\n    };\n    // Switch to a different organization\n    const switchOrganization = async (orgId)=>{\n        try {\n            // Find the organization in the list\n            const org = organizations.find((o)=>o.id === orgId);\n            if (!org) {\n                throw new Error(\"Organization not found\");\n            }\n            // Update current organization\n            setCurrentOrganization(org);\n            // Set as default if it's not already\n            if (!org.is_default) {\n                await setDefaultOrganization(orgId);\n            }\n            return true;\n        } catch (err) {\n            console.error(\"Error switching organization:\", err);\n            setError(err.message);\n            return false;\n        }\n    };\n    // Set default organization\n    const setDefaultOrganization = async (orgId)=>{\n        try {\n            await (0,_apiUtils__WEBPACK_IMPORTED_MODULE_3__.apiPost)(\"/api/user/default-organization/\".concat(orgId));\n            // Update local state\n            setOrganizations((orgs)=>orgs.map((org)=>({\n                        ...org,\n                        is_default: org.id === orgId\n                    })));\n            return true;\n        } catch (err) {\n            console.error(\"Error setting default organization:\", err);\n            setError(err.message);\n            return false;\n        }\n    };\n    // Create a new organization\n    const createOrganization = async (orgData)=>{\n        try {\n            const data = await (0,_apiUtils__WEBPACK_IMPORTED_MODULE_3__.apiPost)(\"/api/organizations\", orgData);\n            // Refetch organizations to get the updated list\n            await fetchUserOrganizations();\n            return data;\n        } catch (err) {\n            console.error(\"Error creating organization:\", err);\n            setError(err.message);\n            throw err;\n        }\n    };\n    // Get organization members\n    const getOrganizationMembers = async (orgId)=>{\n        try {\n            const data = await (0,_apiUtils__WEBPACK_IMPORTED_MODULE_3__.apiGet)(\"/api/organizations/\".concat(orgId, \"/members\"));\n            return data.members || [];\n        } catch (err) {\n            console.error(\"Error fetching organization members:\", err);\n            // For development, return mock data\n            if (true) {\n                return [\n                    {\n                        id: \"member1\",\n                        organization_id: orgId,\n                        user_id: \"user1\",\n                        name: \"Dr. John Doe\",\n                        email: \"john.doe@example.com\",\n                        role: \"owner\",\n                        created_at: \"2025-01-15T10:00:00Z\",\n                        updated_at: \"2025-01-15T10:00:00Z\",\n                        is_default: true\n                    },\n                    {\n                        id: \"member2\",\n                        organization_id: orgId,\n                        user_id: \"user2\",\n                        name: \"Dr. Jane Smith\",\n                        email: \"jane.smith@example.com\",\n                        role: \"admin\",\n                        created_at: \"2025-01-16T14:30:00Z\",\n                        updated_at: \"2025-01-16T14:30:00Z\",\n                        is_default: false\n                    },\n                    {\n                        id: \"member3\",\n                        organization_id: orgId,\n                        user_id: \"user3\",\n                        name: \"Robert Johnson\",\n                        email: \"robert.johnson@example.com\",\n                        role: \"member\",\n                        created_at: \"2025-01-17T09:45:00Z\",\n                        updated_at: \"2025-01-17T09:45:00Z\",\n                        is_default: false\n                    }\n                ];\n            }\n            setError(err.message);\n            throw err;\n        }\n    };\n    // Invite a new member to the organization\n    const inviteMember = async function(orgId, email) {\n        let role = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"member\";\n        try {\n            return await (0,_apiUtils__WEBPACK_IMPORTED_MODULE_3__.apiPost)(\"/api/organizations/\".concat(orgId, \"/invitations\"), {\n                email,\n                role\n            });\n        } catch (err) {\n            console.error(\"Error inviting member:\", err);\n            setError(err.message);\n            throw err;\n        }\n    };\n    // Get API headers with organization context\n    const getApiHeaders = ()=>{\n        const headers = {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": \"Bearer \".concat(localStorage.getItem(\"supabase.auth.token\"))\n        };\n        if (currentOrganization) {\n            headers[\"X-Organization-ID\"] = currentOrganization.id;\n        }\n        return headers;\n    };\n    // Prepare context value\n    const contextValue = {\n        organizations,\n        currentOrganization,\n        loading,\n        error,\n        switchOrganization,\n        createOrganization,\n        getOrganizationMembers,\n        inviteMember,\n        getApiHeaders,\n        refreshOrganizations: fetchUserOrganizations\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(OrganizationContext.Provider, {\n        value: contextValue,\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/luzuko/Project_2025/sdk_next_react_version/frontend/src/utils/organizationContext.js\",\n        lineNumber: 245,\n        columnNumber: 5\n    }, this);\n}\n_s(OrganizationProvider, \"y4dj1YXKV1BsJfIbJPuQCZGdQlk=\", false, function() {\n    return [\n        _hooks_useAuth__WEBPACK_IMPORTED_MODULE_2__.useAuth\n    ];\n});\n_c = OrganizationProvider;\n/**\n * Hook to use the organization context\n */ function useOrganization() {\n    _s1();\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(OrganizationContext);\n    if (!context) {\n        throw new Error(\"useOrganization must be used within an OrganizationProvider\");\n    }\n    return context;\n}\n_s1(useOrganization, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n/**\n * Higher-order component to add organization context to a component\n */ function withOrganization(Component) {\n    return function WithOrganizationComponent(props) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(OrganizationContext.Consumer, {\n            children: (context)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n                    ...props,\n                    organization: context\n                }, void 0, false, {\n                    fileName: \"/Users/luzuko/Project_2025/sdk_next_react_version/frontend/src/utils/organizationContext.js\",\n                    lineNumber: 269,\n                    columnNumber: 23\n                }, this)\n        }, void 0, false, {\n            fileName: \"/Users/luzuko/Project_2025/sdk_next_react_version/frontend/src/utils/organizationContext.js\",\n            lineNumber: 268,\n            columnNumber: 7\n        }, this);\n    };\n}\n/**\n * Hook to handle API requests with organization context\n */ function useOrganizationApi() {\n    _s2();\n    const { getApiHeaders, currentOrganization } = useOrganization();\n    // Make an API request with organization context\n    const apiRequest = async function(url) {\n        let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n        // Get headers with organization context\n        const headers = getApiHeaders();\n        // Merge with provided options\n        const mergedOptions = {\n            ...options,\n            headers: {\n                ...headers,\n                ...options.headers || {}\n            }\n        };\n        // Make the request\n        const response = await fetch(url, mergedOptions);\n        // Handle response\n        if (!response.ok) {\n            const errorText = await response.text();\n            throw new Error(errorText || response.statusText);\n        }\n        return response.json();\n    };\n    return {\n        apiRequest,\n        orgId: currentOrganization === null || currentOrganization === void 0 ? void 0 : currentOrganization.id\n    };\n}\n_s2(useOrganizationApi, \"szhSqSAn8RZilhNWoK1wkMFSaqY=\", false, function() {\n    return [\n        useOrganization\n    ];\n});\nvar _c;\n$RefreshReg$(_c, \"OrganizationProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUEsb0JBQXFCaUIsRUFBRTtJQUNoQztBQUNGO0lBakNnQndDOztRQUNpQ1IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL3V0aWxzL29yZ2FuaXphdGlvbkNvbnRleHQuanM/Zjg4MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE9yZ2FuaXphdGlvbiBDb250ZXh0IFV0aWxpdHlcbiAqIFxuICogVGhpcyB1dGlsaXR5IGhhbmRsZXMgb3JnYW5pemF0aW9uIHN3aXRjaGluZyBhbmQgbWFuYWdlbWVudCBpbiB0aGUgZnJvbnRlbmQuXG4gKi9cblxuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tICcuLi9ob29rcy91c2VBdXRoJztcbmltcG9ydCB7IGFwaUdldCwgYXBpUG9zdCwgYXBpUHV0IH0gZnJvbSAnLi9hcGlVdGlscyc7XG5cbi8vIENyZWF0ZSBvcmdhbml6YXRpb24gY29udGV4dFxuY29uc3QgT3JnYW5pemF0aW9uQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQobnVsbCk7XG5cbi8qKlxuICogT3JnYW5pemF0aW9uIFByb3ZpZGVyIGNvbXBvbmVudFxuICogUHJvdmlkZXMgb3JnYW5pemF0aW9uIGNvbnRleHQgdG8gdGhlIGFwcGxpY2F0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBPcmdhbml6YXRpb25Qcm92aWRlcih7IGNoaWxkcmVuIH0pIHtcbiAgY29uc3QgeyB1c2VyLCBpc0F1dGhlbnRpY2F0ZWQgfSA9IHVzZUF1dGgoKTtcbiAgY29uc3QgW29yZ2FuaXphdGlvbnMsIHNldE9yZ2FuaXphdGlvbnNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbY3VycmVudE9yZ2FuaXphdGlvbiwgc2V0Q3VycmVudE9yZ2FuaXphdGlvbl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUobnVsbCk7XG5cbiAgLy8gRmV0Y2ggdXNlcidzIG9yZ2FuaXphdGlvbnNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICBmZXRjaFVzZXJPcmdhbml6YXRpb25zKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldE9yZ2FuaXphdGlvbnMoW10pO1xuICAgICAgc2V0Q3VycmVudE9yZ2FuaXphdGlvbihudWxsKTtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW2lzQXV0aGVudGljYXRlZCwgdXNlcl0pO1xuXG4gIC8vIEZldGNoIHVzZXIncyBvcmdhbml6YXRpb25zIGZyb20gQVBJXG4gIGNvbnN0IGZldGNoVXNlck9yZ2FuaXphdGlvbnMgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBhcGlHZXQoJy9hcGkvb3JnYW5pemF0aW9ucycpO1xuICAgICAgc2V0T3JnYW5pemF0aW9ucyhkYXRhLm9yZ2FuaXphdGlvbnMgfHwgW10pO1xuICAgICAgXG4gICAgICAvLyBTZXQgY3VycmVudCBvcmdhbml6YXRpb24gdG8gdGhlIGRlZmF1bHQgb25lIG9yIHRoZSBmaXJzdCBpbiB0aGUgbGlzdFxuICAgICAgY29uc3QgZGVmYXVsdE9yZyA9IGRhdGEub3JnYW5pemF0aW9ucy5maW5kKG9yZyA9PiBvcmcuaXNfZGVmYXVsdCk7XG4gICAgICBzZXRDdXJyZW50T3JnYW5pemF0aW9uKGRlZmF1bHRPcmcgfHwgZGF0YS5vcmdhbml6YXRpb25zWzBdIHx8IG51bGwpO1xuICAgICAgXG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIG9yZ2FuaXphdGlvbnM6JywgZXJyKTtcbiAgICAgIFxuICAgICAgLy8gRm9yIGRldmVsb3BtZW50LCB1c2UgbW9jayBkYXRhIGlmIEFQSSBjYWxsIGZhaWxzXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIG1vY2sgb3JnYW5pemF0aW9uIGRhdGEgZm9yIGRldmVsb3BtZW50Jyk7XG4gICAgICAgIGNvbnN0IG1vY2tPcmdzID0gW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnb3JnMScsXG4gICAgICAgICAgICBuYW1lOiAnTWV0cm8gSGVhbHRoIFNlcnZpY2VzJyxcbiAgICAgICAgICAgIHNsdWc6ICdtZXRyby1oZWFsdGgnLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdNYWluIGhlYWx0aGNhcmUgc2VydmljZXMgb3JnYW5pemF0aW9uJyxcbiAgICAgICAgICAgIHJvbGU6ICdvd25lcicsXG4gICAgICAgICAgICBpc19kZWZhdWx0OiB0cnVlLFxuICAgICAgICAgICAgdHlwZTogJ2hlYWx0aGNhcmVfZmFjaWxpdHknXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZDogJ29yZzInLFxuICAgICAgICAgICAgbmFtZTogJ1dlc3Rlcm4gQ2FwZSBNZWRpY2FsJyxcbiAgICAgICAgICAgIHNsdWc6ICd3ZXN0ZXJuLWNhcGUtbWVkaWNhbCcsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1JlZ2lvbmFsIGhlYWx0aGNhcmUgcHJvdmlkZXInLFxuICAgICAgICAgICAgcm9sZTogJ21lbWJlcicsXG4gICAgICAgICAgICBpc19kZWZhdWx0OiBmYWxzZSxcbiAgICAgICAgICAgIHR5cGU6ICdzZXJ2aWNlX3Byb3ZpZGVyJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdvcmczJyxcbiAgICAgICAgICAgIG5hbWU6ICdDYXBlIFRvd24gQ2xpbmljJyxcbiAgICAgICAgICAgIHNsdWc6ICdjYXBlLXRvd24tY2xpbmljJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnTG9jYWwgbWVkaWNhbCBjbGluaWMnLFxuICAgICAgICAgICAgcm9sZTogJ2FkbWluJyxcbiAgICAgICAgICAgIGlzX2RlZmF1bHQ6IGZhbHNlLFxuICAgICAgICAgICAgdHlwZTogJ2RpcmVjdF9jbGllbnQnXG4gICAgICAgICAgfVxuICAgICAgICBdO1xuICAgICAgICBzZXRPcmdhbml6YXRpb25zKG1vY2tPcmdzKTtcbiAgICAgICAgc2V0Q3VycmVudE9yZ2FuaXphdGlvbihtb2NrT3Jnc1swXSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHNldEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICAvLyBTd2l0Y2ggdG8gYSBkaWZmZXJlbnQgb3JnYW5pemF0aW9uXG4gIGNvbnN0IHN3aXRjaE9yZ2FuaXphdGlvbiA9IGFzeW5jIChvcmdJZCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBGaW5kIHRoZSBvcmdhbml6YXRpb24gaW4gdGhlIGxpc3RcbiAgICAgIGNvbnN0IG9yZyA9IG9yZ2FuaXphdGlvbnMuZmluZChvID0+IG8uaWQgPT09IG9yZ0lkKTtcbiAgICAgIGlmICghb3JnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignT3JnYW5pemF0aW9uIG5vdCBmb3VuZCcpO1xuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgY3VycmVudCBvcmdhbml6YXRpb25cbiAgICAgIHNldEN1cnJlbnRPcmdhbml6YXRpb24ob3JnKTtcblxuICAgICAgLy8gU2V0IGFzIGRlZmF1bHQgaWYgaXQncyBub3QgYWxyZWFkeVxuICAgICAgaWYgKCFvcmcuaXNfZGVmYXVsdCkge1xuICAgICAgICBhd2FpdCBzZXREZWZhdWx0T3JnYW5pemF0aW9uKG9yZ0lkKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzd2l0Y2hpbmcgb3JnYW5pemF0aW9uOicsIGVycik7XG4gICAgICBzZXRFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIC8vIFNldCBkZWZhdWx0IG9yZ2FuaXphdGlvblxuICBjb25zdCBzZXREZWZhdWx0T3JnYW5pemF0aW9uID0gYXN5bmMgKG9yZ0lkKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGFwaVBvc3QoYC9hcGkvdXNlci9kZWZhdWx0LW9yZ2FuaXphdGlvbi8ke29yZ0lkfWApO1xuXG4gICAgICAvLyBVcGRhdGUgbG9jYWwgc3RhdGVcbiAgICAgIHNldE9yZ2FuaXphdGlvbnMob3JncyA9PiBvcmdzLm1hcChvcmcgPT4gKHtcbiAgICAgICAgLi4ub3JnLFxuICAgICAgICBpc19kZWZhdWx0OiBvcmcuaWQgPT09IG9yZ0lkXG4gICAgICB9KSkpO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNldHRpbmcgZGVmYXVsdCBvcmdhbml6YXRpb246JywgZXJyKTtcbiAgICAgIHNldEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgLy8gQ3JlYXRlIGEgbmV3IG9yZ2FuaXphdGlvblxuICBjb25zdCBjcmVhdGVPcmdhbml6YXRpb24gPSBhc3luYyAob3JnRGF0YSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgYXBpUG9zdCgnL2FwaS9vcmdhbml6YXRpb25zJywgb3JnRGF0YSk7XG4gICAgICBcbiAgICAgIC8vIFJlZmV0Y2ggb3JnYW5pemF0aW9ucyB0byBnZXQgdGhlIHVwZGF0ZWQgbGlzdFxuICAgICAgYXdhaXQgZmV0Y2hVc2VyT3JnYW5pemF0aW9ucygpO1xuICAgICAgXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIG9yZ2FuaXphdGlvbjonLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfTtcblxuICAvLyBHZXQgb3JnYW5pemF0aW9uIG1lbWJlcnNcbiAgY29uc3QgZ2V0T3JnYW5pemF0aW9uTWVtYmVycyA9IGFzeW5jIChvcmdJZCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgYXBpR2V0KGAvYXBpL29yZ2FuaXphdGlvbnMvJHtvcmdJZH0vbWVtYmVyc2ApO1xuICAgICAgcmV0dXJuIGRhdGEubWVtYmVycyB8fCBbXTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIG9yZ2FuaXphdGlvbiBtZW1iZXJzOicsIGVycik7XG4gICAgICBcbiAgICAgIC8vIEZvciBkZXZlbG9wbWVudCwgcmV0dXJuIG1vY2sgZGF0YVxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdtZW1iZXIxJyxcbiAgICAgICAgICAgIG9yZ2FuaXphdGlvbl9pZDogb3JnSWQsXG4gICAgICAgICAgICB1c2VyX2lkOiAndXNlcjEnLFxuICAgICAgICAgICAgbmFtZTogJ0RyLiBKb2huIERvZScsXG4gICAgICAgICAgICBlbWFpbDogJ2pvaG4uZG9lQGV4YW1wbGUuY29tJyxcbiAgICAgICAgICAgIHJvbGU6ICdvd25lcicsXG4gICAgICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNS0wMS0xNVQxMDowMDowMFonLFxuICAgICAgICAgICAgdXBkYXRlZF9hdDogJzIwMjUtMDEtMTVUMTA6MDA6MDBaJyxcbiAgICAgICAgICAgIGlzX2RlZmF1bHQ6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnbWVtYmVyMicsXG4gICAgICAgICAgICBvcmdhbml6YXRpb25faWQ6IG9yZ0lkLFxuICAgICAgICAgICAgdXNlcl9pZDogJ3VzZXIyJyxcbiAgICAgICAgICAgIG5hbWU6ICdEci4gSmFuZSBTbWl0aCcsXG4gICAgICAgICAgICBlbWFpbDogJ2phbmUuc21pdGhAZXhhbXBsZS5jb20nLFxuICAgICAgICAgICAgcm9sZTogJ2FkbWluJyxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI1LTAxLTE2VDE0OjMwOjAwWicsXG4gICAgICAgICAgICB1cGRhdGVkX2F0OiAnMjAyNS0wMS0xNlQxNDozMDowMFonLFxuICAgICAgICAgICAgaXNfZGVmYXVsdDogZmFsc2VcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnbWVtYmVyMycsXG4gICAgICAgICAgICBvcmdhbml6YXRpb25faWQ6IG9yZ0lkLFxuICAgICAgICAgICAgdXNlcl9pZDogJ3VzZXIzJyxcbiAgICAgICAgICAgIG5hbWU6ICdSb2JlcnQgSm9obnNvbicsXG4gICAgICAgICAgICBlbWFpbDogJ3JvYmVydC5qb2huc29uQGV4YW1wbGUuY29tJyxcbiAgICAgICAgICAgIHJvbGU6ICdtZW1iZXInLFxuICAgICAgICAgICAgY3JlYXRlZF9hdDogJzIwMjUtMDEtMTdUMDk6NDU6MDBaJyxcbiAgICAgICAgICAgIHVwZGF0ZWRfYXQ6ICcyMDI1LTAxLTE3VDA5OjQ1OjAwWicsXG4gICAgICAgICAgICBpc19kZWZhdWx0OiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfTtcblxuICAvLyBJbnZpdGUgYSBuZXcgbWVtYmVyIHRvIHRoZSBvcmdhbml6YXRpb25cbiAgY29uc3QgaW52aXRlTWVtYmVyID0gYXN5bmMgKG9yZ0lkLCBlbWFpbCwgcm9sZSA9ICdtZW1iZXInKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCBhcGlQb3N0KGAvYXBpL29yZ2FuaXphdGlvbnMvJHtvcmdJZH0vaW52aXRhdGlvbnNgLCB7IGVtYWlsLCByb2xlIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW52aXRpbmcgbWVtYmVyOicsIGVycik7XG4gICAgICBzZXRFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9O1xuXG4gIC8vIEdldCBBUEkgaGVhZGVycyB3aXRoIG9yZ2FuaXphdGlvbiBjb250ZXh0XG4gIGNvbnN0IGdldEFwaUhlYWRlcnMgPSAoKSA9PiB7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHtsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3VwYWJhc2UuYXV0aC50b2tlbicpfWAsXG4gICAgfTtcblxuICAgIGlmIChjdXJyZW50T3JnYW5pemF0aW9uKSB7XG4gICAgICBoZWFkZXJzWydYLU9yZ2FuaXphdGlvbi1JRCddID0gY3VycmVudE9yZ2FuaXphdGlvbi5pZDtcbiAgICB9XG5cbiAgICByZXR1cm4gaGVhZGVycztcbiAgfTtcblxuICAvLyBQcmVwYXJlIGNvbnRleHQgdmFsdWVcbiAgY29uc3QgY29udGV4dFZhbHVlID0ge1xuICAgIG9yZ2FuaXphdGlvbnMsXG4gICAgY3VycmVudE9yZ2FuaXphdGlvbixcbiAgICBsb2FkaW5nLFxuICAgIGVycm9yLFxuICAgIHN3aXRjaE9yZ2FuaXphdGlvbixcbiAgICBjcmVhdGVPcmdhbml6YXRpb24sXG4gICAgZ2V0T3JnYW5pemF0aW9uTWVtYmVycyxcbiAgICBpbnZpdGVNZW1iZXIsXG4gICAgZ2V0QXBpSGVhZGVycyxcbiAgICByZWZyZXNoT3JnYW5pemF0aW9uczogZmV0Y2hVc2VyT3JnYW5pemF0aW9ucyxcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxPcmdhbml6YXRpb25Db250ZXh0LlByb3ZpZGVyIHZhbHVlPXtjb250ZXh0VmFsdWV9PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvT3JnYW5pemF0aW9uQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn1cblxuLyoqXG4gKiBIb29rIHRvIHVzZSB0aGUgb3JnYW5pemF0aW9uIGNvbnRleHRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZU9yZ2FuaXphdGlvbigpIHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoT3JnYW5pemF0aW9uQ29udGV4dCk7XG4gIGlmICghY29udGV4dCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndXNlT3JnYW5pemF0aW9uIG11c3QgYmUgdXNlZCB3aXRoaW4gYW4gT3JnYW5pemF0aW9uUHJvdmlkZXInKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn1cblxuLyoqXG4gKiBIaWdoZXItb3JkZXIgY29tcG9uZW50IHRvIGFkZCBvcmdhbml6YXRpb24gY29udGV4dCB0byBhIGNvbXBvbmVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gd2l0aE9yZ2FuaXphdGlvbihDb21wb25lbnQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIFdpdGhPcmdhbml6YXRpb25Db21wb25lbnQocHJvcHMpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPE9yZ2FuaXphdGlvbkNvbnRleHQuQ29uc3VtZXI+XG4gICAgICAgIHsoY29udGV4dCkgPT4gPENvbXBvbmVudCB7Li4ucHJvcHN9IG9yZ2FuaXphdGlvbj17Y29udGV4dH0gLz59XG4gICAgICA8L09yZ2FuaXphdGlvbkNvbnRleHQuQ29uc3VtZXI+XG4gICAgKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBIb29rIHRvIGhhbmRsZSBBUEkgcmVxdWVzdHMgd2l0aCBvcmdhbml6YXRpb24gY29udGV4dFxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlT3JnYW5pemF0aW9uQXBpKCkge1xuICBjb25zdCB7IGdldEFwaUhlYWRlcnMsIGN1cnJlbnRPcmdhbml6YXRpb24gfSA9IHVzZU9yZ2FuaXphdGlvbigpO1xuICBcbiAgLy8gTWFrZSBhbiBBUEkgcmVxdWVzdCB3aXRoIG9yZ2FuaXphdGlvbiBjb250ZXh0XG4gIGNvbnN0IGFwaVJlcXVlc3QgPSBhc3luYyAodXJsLCBvcHRpb25zID0ge30pID0+IHtcbiAgICAvLyBHZXQgaGVhZGVycyB3aXRoIG9yZ2FuaXphdGlvbiBjb250ZXh0XG4gICAgY29uc3QgaGVhZGVycyA9IGdldEFwaUhlYWRlcnMoKTtcbiAgICBcbiAgICAvLyBNZXJnZSB3aXRoIHByb3ZpZGVkIG9wdGlvbnNcbiAgICBjb25zdCBtZXJnZWRPcHRpb25zID0ge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgLi4uaGVhZGVycyxcbiAgICAgICAgLi4uKG9wdGlvbnMuaGVhZGVycyB8fCB7fSksXG4gICAgICB9LFxuICAgIH07XG4gICAgXG4gICAgLy8gTWFrZSB0aGUgcmVxdWVzdFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCBtZXJnZWRPcHRpb25zKTtcbiAgICBcbiAgICAvLyBIYW5kbGUgcmVzcG9uc2VcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JUZXh0IHx8IHJlc3BvbnNlLnN0YXR1c1RleHQpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICB9O1xuICBcbiAgcmV0dXJuIHtcbiAgICBhcGlSZXF1ZXN0LFxuICAgIG9yZ0lkOiBjdXJyZW50T3JnYW5pemF0aW9uPy5pZCxcbiAgfTtcbn0iXSwibmFtZXMiOlsiY3JlYXRlQ29udGV4dCIsInVzZUNvbnRleHQiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUF1dGgiLCJhcGlHZXQiLCJhcGlQb3N0IiwiYXBpUHV0IiwiT3JnYW5pemF0aW9uQ29udGV4dCIsIk9yZ2FuaXphdGlvblByb3ZpZGVyIiwiY2hpbGRyZW4iLCJ1c2VyIiwiaXNBdXRoZW50aWNhdGVkIiwib3JnYW5pemF0aW9ucyIsInNldE9yZ2FuaXphdGlvbnMiLCJjdXJyZW50T3JnYW5pemF0aW9uIiwic2V0Q3VycmVudE9yZ2FuaXphdGlvbiIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImZldGNoVXNlck9yZ2FuaXphdGlvbnMiLCJkYXRhIiwiZGVmYXVsdE9yZyIsImZpbmQiLCJvcmciLCJpc19kZWZhdWx0IiwiZXJyIiwiY29uc29sZSIsInByb2Nlc3MiLCJsb2ciLCJtb2NrT3JncyIsImlkIiwibmFtZSIsInNsdWciLCJkZXNjcmlwdGlvbiIsInJvbGUiLCJ0eXBlIiwibWVzc2FnZSIsInN3aXRjaE9yZ2FuaXphdGlvbiIsIm9yZ0lkIiwibyIsIkVycm9yIiwic2V0RGVmYXVsdE9yZ2FuaXphdGlvbiIsIm9yZ3MiLCJtYXAiLCJjcmVhdGVPcmdhbml6YXRpb24iLCJvcmdEYXRhIiwiZ2V0T3JnYW5pemF0aW9uTWVtYmVycyIsIm1lbWJlcnMiLCJvcmdhbml6YXRpb25faWQiLCJ1c2VyX2lkIiwiZW1haWwiLCJjcmVhdGVkX2F0IiwidXBkYXRlZF9hdCIsImludml0ZU1lbWJlciIsImdldEFwaUhlYWRlcnMiLCJoZWFkZXJzIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImNvbnRleHRWYWx1ZSIsInJlZnJlc2hPcmdhbml6YXRpb25zIiwiUHJvdmlkZXIiLCJ2YWx1ZSIsInVzZU9yZ2FuaXphdGlvbiIsImNvbnRleHQiLCJ3aXRoT3JnYW5pemF0aW9uIiwiQ29tcG9uZW50IiwiV2l0aE9yZ2FuaXphdGlvbkNvbXBvbmVudCIsInByb3BzIiwiQ29uc3VtZXIiLCJvcmdhbml6YXRpb24iLCJ1c2VPcmdhbml6YXRpb25BcGkiLCJhcGlSZXF1ZXN0IiwidXJsIiwib3B0aW9ucyIsIm1lcmdlZE9wdGlvbnMiLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJlcnJvclRleHQiLCJ0ZXh0Iiwic3RhdHVzVGV4dCIsImpzb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/utils/organizationContext.js\n"));

/***/ })

});