"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/_app",{

/***/ "./src/hooks/useAuth.js":
/*!******************************!*\
  !*** ./src/hooks/useAuth.js ***!
  \******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthService: function() { return /* binding */ AuthService; },\n/* harmony export */   UserProfile: function() { return /* binding */ UserProfile; },\n/* harmony export */   useAuth: function() { return /* binding */ useAuth; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\nvar _s = $RefreshSig$();\n\n// Placeholder for actual authentication service\nconst AuthService = class {\n    getSession() {\n        return {\n            data: null,\n            error: null\n        };\n    }\n    getUser() {\n        return {\n            data: null,\n            error: null\n        };\n    }\n    onAuthStateChange(callback) {\n        return {\n            data: {\n                subscription: {\n                    unsubscribe: ()=>{}\n                }\n            }\n        };\n    }\n    signIn() {\n        return {\n            data: null,\n            error: null\n        };\n    }\n    signUp() {\n        return {\n            data: null,\n            error: null\n        };\n    }\n    signInWithMagicLink() {\n        return {\n            data: null,\n            error: null\n        };\n    }\n    signOut() {\n        return {\n            data: null,\n            error: null\n        };\n    }\n    resetPassword() {\n        return {\n            data: null,\n            error: null\n        };\n    }\n    updatePassword() {\n        return {\n            data: null,\n            error: null\n        };\n    }\n    updateUserMetadata() {\n        return {\n            data: null,\n            error: null\n        };\n    }\n    constructor(){}\n};\nconst UserProfile = {\n    createProfile: async ()=>({}),\n    updateProfile: async ()=>({}),\n    getProfile: async ()=>({})\n};\n/**\n * Custom hook for authentication functionality in the frontend\n * This is a temporary implementation until the @medic-data/auth package is available\n * @returns {Object} Authentication state and methods\n */ function useAuth() {\n    _s();\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [session, setSession] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [organization, setOrganization] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Create auth service instance\n    const authService = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{\n        try {\n            return new AuthService();\n        } catch (err) {\n            console.error(\"Failed to initialize auth service:\", err);\n            setError(err);\n            return null;\n        }\n    }, []);\n    // Initialize auth state\n    const initializeAuth = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        if (!authService) return;\n        try {\n            setLoading(true);\n            setError(null);\n            // Get current session\n            const { data: sessionData, error: sessionError } = await authService.getSession();\n            if (sessionError) {\n                throw sessionError;\n            }\n            if (sessionData === null || sessionData === void 0 ? void 0 : sessionData.session) {\n                setSession(sessionData.session);\n                // Get user data\n                const { data: userData, error: userError } = await authService.getUser();\n                if (userError) {\n                    throw userError;\n                }\n                if (userData === null || userData === void 0 ? void 0 : userData.user) {\n                    var _userProfile_user_metadata;\n                    const userProfile = userData.user;\n                    setUser(userProfile);\n                    // If the user has an organization_id in their metadata, fetch organization details\n                    if ((_userProfile_user_metadata = userProfile.user_metadata) === null || _userProfile_user_metadata === void 0 ? void 0 : _userProfile_user_metadata.organization_id) {\n                        // Here you would typically fetch organization details from your API\n                        // For now, we'll just store the ID\n                        setOrganization({\n                            id: userProfile.user_metadata.organization_id,\n                            name: userProfile.user_metadata.organization_name || \"Unknown Organization\"\n                        });\n                    }\n                }\n            } else {\n                // No active session\n                setUser(null);\n                setSession(null);\n                setOrganization(null);\n            }\n        } catch (err) {\n            console.error(\"Authentication initialization error:\", err);\n            setError(err);\n            setUser(null);\n            setSession(null);\n        } finally{\n            setLoading(false);\n        }\n    }, [\n        authService\n    ]);\n    // Set up auth state change listener\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!authService) return;\n        // Initialize auth state\n        initializeAuth();\n        // Set up auth state change listener\n        const { data: authListener } = authService.onAuthStateChange(async (event, session)=>{\n            console.log(\"Auth state changed:\", event, session);\n            if (event === \"SIGNED_IN\" || event === \"USER_UPDATED\") {\n                // Re-initialize auth when user signs in or is updated\n                initializeAuth();\n            } else if (event === \"SIGNED_OUT\") {\n                setUser(null);\n                setSession(null);\n                setOrganization(null);\n            }\n        });\n        // Clean up listener on unmount\n        return ()=>{\n            var _authListener_subscription;\n            authListener === null || authListener === void 0 ? void 0 : (_authListener_subscription = authListener.subscription) === null || _authListener_subscription === void 0 ? void 0 : _authListener_subscription.unsubscribe();\n        };\n    }, [\n        authService,\n        initializeAuth\n    ]);\n    // Sign in with email and password\n    const signIn = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (email, password)=>{\n        if (!authService) return {\n            error: new Error(\"Auth service not initialized\")\n        };\n        try {\n            setLoading(true);\n            setError(null);\n            const { data, error: signInError } = await authService.signIn(email, password);\n            if (signInError) {\n                throw signInError;\n            }\n            return {\n                data\n            };\n        } catch (err) {\n            console.error(\"Sign in error:\", err);\n            setError(err);\n            return {\n                error: err\n            };\n        } finally{\n            setLoading(false);\n        }\n    }, [\n        authService\n    ]);\n    // Sign up with email and password\n    const signUp = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async function(email, password) {\n        let metadata = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n        if (!authService) return {\n            error: new Error(\"Auth service not initialized\")\n        };\n        try {\n            setLoading(true);\n            setError(null);\n            const { data, error: signUpError } = await authService.signUp(email, password, metadata);\n            if (signUpError) {\n                throw signUpError;\n            }\n            return {\n                data\n            };\n        } catch (err) {\n            console.error(\"Sign up error:\", err);\n            setError(err);\n            return {\n                error: err\n            };\n        } finally{\n            setLoading(false);\n        }\n    }, [\n        authService\n    ]);\n    // Sign in with magic link (passwordless)\n    const signInWithMagicLink = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (email)=>{\n        if (!authService) return {\n            error: new Error(\"Auth service not initialized\")\n        };\n        try {\n            setLoading(true);\n            setError(null);\n            const { data, error: magicLinkError } = await authService.signInWithMagicLink(email);\n            if (magicLinkError) {\n                throw magicLinkError;\n            }\n            return {\n                data\n            };\n        } catch (err) {\n            console.error(\"Magic link sign in error:\", err);\n            setError(err);\n            return {\n                error: err\n            };\n        } finally{\n            setLoading(false);\n        }\n    }, [\n        authService\n    ]);\n    // Sign out\n    const signOut = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        if (!authService) return;\n        try {\n            setLoading(true);\n            setError(null);\n            const { error: signOutError } = await authService.signOut();\n            if (signOutError) {\n                throw signOutError;\n            }\n            setUser(null);\n            setSession(null);\n            setOrganization(null);\n        } catch (err) {\n            console.error(\"Sign out error:\", err);\n            setError(err);\n        } finally{\n            setLoading(false);\n        }\n    }, [\n        authService\n    ]);\n    // Reset password\n    const resetPassword = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (email)=>{\n        if (!authService) return {\n            error: new Error(\"Auth service not initialized\")\n        };\n        try {\n            setLoading(true);\n            setError(null);\n            const { data, error: resetError } = await authService.resetPassword(email);\n            if (resetError) {\n                throw resetError;\n            }\n            return {\n                data\n            };\n        } catch (err) {\n            console.error(\"Password reset error:\", err);\n            setError(err);\n            return {\n                error: err\n            };\n        } finally{\n            setLoading(false);\n        }\n    }, [\n        authService\n    ]);\n    // Update password\n    const updatePassword = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (newPassword)=>{\n        if (!authService) return {\n            error: new Error(\"Auth service not initialized\")\n        };\n        try {\n            setLoading(true);\n            setError(null);\n            const { data, error: updateError } = await authService.updatePassword(newPassword);\n            if (updateError) {\n                throw updateError;\n            }\n            return {\n                data\n            };\n        } catch (err) {\n            console.error(\"Password update error:\", err);\n            setError(err);\n            return {\n                error: err\n            };\n        } finally{\n            setLoading(false);\n        }\n    }, [\n        authService\n    ]);\n    // Update user profile\n    const updateProfile = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (profileData)=>{\n        if (!authService) return {\n            error: new Error(\"Auth service not initialized\")\n        };\n        try {\n            setLoading(true);\n            setError(null);\n            const { data, error: updateError } = await authService.updateUserMetadata(profileData);\n            if (updateError) {\n                throw updateError;\n            }\n            // Update local user state with new profile data\n            if (data === null || data === void 0 ? void 0 : data.user) {\n                setUser(data.user);\n            }\n            return {\n                data\n            };\n        } catch (err) {\n            console.error(\"Profile update error:\", err);\n            setError(err);\n            return {\n                error: err\n            };\n        } finally{\n            setLoading(false);\n        }\n    }, [\n        authService\n    ]);\n    // Set current organization for multi-tenant functionality\n    const setCurrentOrganization = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((org)=>{\n        setOrganization(org);\n    }, []);\n    // Return authentication state and methods\n    return {\n        user,\n        session,\n        loading,\n        error,\n        organization,\n        isAuthenticated: !!user && !!session,\n        signIn,\n        signUp,\n        signInWithMagicLink,\n        signOut,\n        resetPassword,\n        updatePassword,\n        updateProfile,\n        setCurrentOrganization\n    };\n}\n_s(useAuth, \"QRCyhw7A+TG/tNIicdNDkH7as10=\");\n// Export the placeholder services for imports in AuthContext\n\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1lBRUEsZ0RBQWdEO1lBQ2hELElBQUl4RCxpQkFBQUEsMkJBQUFBLEtBQU1vQixJQUFJLEVBQUU7Z0JBQ2RDLFFBQVFyQixLQUFLb0IsSUFBSTtZQUNuQjtZQUVBLE9BQU87Z0JBQUVwQjtZQUFLO1FBQ2hCLEVBQUUsT0FBTzhCLEtBQUs7WUFDWkMsUUFBUTlCLEtBQUssQ0FBQyx5QkFBeUI2QjtZQUN2Q0osU0FBU0k7WUFDVCxPQUFPO2dCQUFFN0IsT0FBTzZCO1lBQUk7UUFDdEIsU0FBVTtZQUNSTCxXQUFXO1FBQ2I7SUFDRixHQUNBO1FBQUNJO0tBQVk7SUFHZiwwREFBMEQ7SUFDMUQsTUFBTTZCLHlCQUF5QjlELGtEQUFXQSxDQUFDLENBQUMrRDtRQUMxQy9CLGdCQUFnQitCO0lBQ2xCLEdBQUcsRUFBRTtJQUVMLDBDQUEwQztJQUMxQyxPQUFPO1FBQ0x2QztRQUNBRTtRQUNBRTtRQUNBdkI7UUFDQTBCO1FBQ0FpQyxpQkFBaUIsQ0FBQyxDQUFDeEMsUUFBUSxDQUFDLENBQUNFO1FBQzdCZjtRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBSztRQUNBeUM7SUFDRjtBQUNGO0dBM1RnQnZDO0FBNlRoQiw2REFBNkQ7QUFDekIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2hvb2tzL3VzZUF1dGguanM/YTRmMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcblxuLy8gUGxhY2Vob2xkZXIgZm9yIGFjdHVhbCBhdXRoZW50aWNhdGlvbiBzZXJ2aWNlXG5jb25zdCBBdXRoU2VydmljZSA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoKSB7fVxuICBnZXRTZXNzaW9uKCkgeyByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogbnVsbCB9OyB9XG4gIGdldFVzZXIoKSB7IHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBudWxsIH07IH1cbiAgb25BdXRoU3RhdGVDaGFuZ2UoY2FsbGJhY2spIHsgcmV0dXJuIHsgZGF0YTogeyBzdWJzY3JpcHRpb246IHsgdW5zdWJzY3JpYmU6ICgpID0+IHt9IH0gfSB9OyB9XG4gIHNpZ25JbigpIHsgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IG51bGwgfTsgfVxuICBzaWduVXAoKSB7IHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBudWxsIH07IH1cbiAgc2lnbkluV2l0aE1hZ2ljTGluaygpIHsgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IG51bGwgfTsgfVxuICBzaWduT3V0KCkgeyByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogbnVsbCB9OyB9XG4gIHJlc2V0UGFzc3dvcmQoKSB7IHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBudWxsIH07IH1cbiAgdXBkYXRlUGFzc3dvcmQoKSB7IHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBudWxsIH07IH1cbiAgdXBkYXRlVXNlck1ldGFkYXRhKCkgeyByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogbnVsbCB9OyB9XG59O1xuXG5jb25zdCBVc2VyUHJvZmlsZSA9IHtcbiAgY3JlYXRlUHJvZmlsZTogYXN5bmMgKCkgPT4gKHt9KSxcbiAgdXBkYXRlUHJvZmlsZTogYXN5bmMgKCkgPT4gKHt9KSxcbiAgZ2V0UHJvZmlsZTogYXN5bmMgKCkgPT4gKHt9KSxcbn07XG5cbi8qKlxuICogQ3VzdG9tIGhvb2sgZm9yIGF1dGhlbnRpY2F0aW9uIGZ1bmN0aW9uYWxpdHkgaW4gdGhlIGZyb250ZW5kXG4gKiBUaGlzIGlzIGEgdGVtcG9yYXJ5IGltcGxlbWVudGF0aW9uIHVudGlsIHRoZSBAbWVkaWMtZGF0YS9hdXRoIHBhY2thZ2UgaXMgYXZhaWxhYmxlXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBBdXRoZW50aWNhdGlvbiBzdGF0ZSBhbmQgbWV0aG9kc1xuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlQXV0aCgpIHtcbiAgY29uc3QgW3VzZXIsIHNldFVzZXJdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtzZXNzaW9uLCBzZXRTZXNzaW9uXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW29yZ2FuaXphdGlvbiwgc2V0T3JnYW5pemF0aW9uXSA9IHVzZVN0YXRlKG51bGwpO1xuXG4gIC8vIENyZWF0ZSBhdXRoIHNlcnZpY2UgaW5zdGFuY2VcbiAgY29uc3QgYXV0aFNlcnZpY2UgPSB1c2VNZW1vKCgpID0+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIG5ldyBBdXRoU2VydmljZSgpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGluaXRpYWxpemUgYXV0aCBzZXJ2aWNlOicsIGVycik7XG4gICAgICBzZXRFcnJvcihlcnIpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLy8gSW5pdGlhbGl6ZSBhdXRoIHN0YXRlXG4gIGNvbnN0IGluaXRpYWxpemVBdXRoID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGlmICghYXV0aFNlcnZpY2UpIHJldHVybjtcblxuICAgIHRyeSB7XG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG5cbiAgICAgIC8vIEdldCBjdXJyZW50IHNlc3Npb25cbiAgICAgIGNvbnN0IHsgZGF0YTogc2Vzc2lvbkRhdGEsIGVycm9yOiBzZXNzaW9uRXJyb3IgfSA9IGF3YWl0IGF1dGhTZXJ2aWNlLmdldFNlc3Npb24oKTtcbiAgICAgIFxuICAgICAgaWYgKHNlc3Npb25FcnJvcikge1xuICAgICAgICB0aHJvdyBzZXNzaW9uRXJyb3I7XG4gICAgICB9XG5cbiAgICAgIGlmIChzZXNzaW9uRGF0YT8uc2Vzc2lvbikge1xuICAgICAgICBzZXRTZXNzaW9uKHNlc3Npb25EYXRhLnNlc3Npb24pO1xuICAgICAgICBcbiAgICAgICAgLy8gR2V0IHVzZXIgZGF0YVxuICAgICAgICBjb25zdCB7IGRhdGE6IHVzZXJEYXRhLCBlcnJvcjogdXNlckVycm9yIH0gPSBhd2FpdCBhdXRoU2VydmljZS5nZXRVc2VyKCk7XG4gICAgICAgIFxuICAgICAgICBpZiAodXNlckVycm9yKSB7XG4gICAgICAgICAgdGhyb3cgdXNlckVycm9yO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHVzZXJEYXRhPy51c2VyKSB7XG4gICAgICAgICAgY29uc3QgdXNlclByb2ZpbGUgPSB1c2VyRGF0YS51c2VyO1xuICAgICAgICAgIHNldFVzZXIodXNlclByb2ZpbGUpO1xuXG4gICAgICAgICAgLy8gSWYgdGhlIHVzZXIgaGFzIGFuIG9yZ2FuaXphdGlvbl9pZCBpbiB0aGVpciBtZXRhZGF0YSwgZmV0Y2ggb3JnYW5pemF0aW9uIGRldGFpbHNcbiAgICAgICAgICBpZiAodXNlclByb2ZpbGUudXNlcl9tZXRhZGF0YT8ub3JnYW5pemF0aW9uX2lkKSB7XG4gICAgICAgICAgICAvLyBIZXJlIHlvdSB3b3VsZCB0eXBpY2FsbHkgZmV0Y2ggb3JnYW5pemF0aW9uIGRldGFpbHMgZnJvbSB5b3VyIEFQSVxuICAgICAgICAgICAgLy8gRm9yIG5vdywgd2UnbGwganVzdCBzdG9yZSB0aGUgSURcbiAgICAgICAgICAgIHNldE9yZ2FuaXphdGlvbih7XG4gICAgICAgICAgICAgIGlkOiB1c2VyUHJvZmlsZS51c2VyX21ldGFkYXRhLm9yZ2FuaXphdGlvbl9pZCxcbiAgICAgICAgICAgICAgbmFtZTogdXNlclByb2ZpbGUudXNlcl9tZXRhZGF0YS5vcmdhbml6YXRpb25fbmFtZSB8fCAnVW5rbm93biBPcmdhbml6YXRpb24nLFxuICAgICAgICAgICAgICAvLyBPdGhlciBvcmdhbml6YXRpb24gZmllbGRzIHdvdWxkIGJlIHBvcHVsYXRlZCBmcm9tIGFuIEFQSSBjYWxsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5vIGFjdGl2ZSBzZXNzaW9uXG4gICAgICAgIHNldFVzZXIobnVsbCk7XG4gICAgICAgIHNldFNlc3Npb24obnVsbCk7XG4gICAgICAgIHNldE9yZ2FuaXphdGlvbihudWxsKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0F1dGhlbnRpY2F0aW9uIGluaXRpYWxpemF0aW9uIGVycm9yOicsIGVycik7XG4gICAgICBzZXRFcnJvcihlcnIpO1xuICAgICAgc2V0VXNlcihudWxsKTtcbiAgICAgIHNldFNlc3Npb24obnVsbCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW2F1dGhTZXJ2aWNlXSk7XG5cbiAgLy8gU2V0IHVwIGF1dGggc3RhdGUgY2hhbmdlIGxpc3RlbmVyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFhdXRoU2VydmljZSkgcmV0dXJuO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBhdXRoIHN0YXRlXG4gICAgaW5pdGlhbGl6ZUF1dGgoKTtcblxuICAgIC8vIFNldCB1cCBhdXRoIHN0YXRlIGNoYW5nZSBsaXN0ZW5lclxuICAgIGNvbnN0IHsgZGF0YTogYXV0aExpc3RlbmVyIH0gPSBhdXRoU2VydmljZS5vbkF1dGhTdGF0ZUNoYW5nZShhc3luYyAoZXZlbnQsIHNlc3Npb24pID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdBdXRoIHN0YXRlIGNoYW5nZWQ6JywgZXZlbnQsIHNlc3Npb24pO1xuICAgICAgXG4gICAgICBpZiAoZXZlbnQgPT09ICdTSUdORURfSU4nIHx8IGV2ZW50ID09PSAnVVNFUl9VUERBVEVEJykge1xuICAgICAgICAvLyBSZS1pbml0aWFsaXplIGF1dGggd2hlbiB1c2VyIHNpZ25zIGluIG9yIGlzIHVwZGF0ZWRcbiAgICAgICAgaW5pdGlhbGl6ZUF1dGgoKTtcbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdTSUdORURfT1VUJykge1xuICAgICAgICBzZXRVc2VyKG51bGwpO1xuICAgICAgICBzZXRTZXNzaW9uKG51bGwpO1xuICAgICAgICBzZXRPcmdhbml6YXRpb24obnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBDbGVhbiB1cCBsaXN0ZW5lciBvbiB1bm1vdW50XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGF1dGhMaXN0ZW5lcj8uc3Vic2NyaXB0aW9uPy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gIH0sIFthdXRoU2VydmljZSwgaW5pdGlhbGl6ZUF1dGhdKTtcblxuICAvLyBTaWduIGluIHdpdGggZW1haWwgYW5kIHBhc3N3b3JkXG4gIGNvbnN0IHNpZ25JbiA9IHVzZUNhbGxiYWNrKFxuICAgIGFzeW5jIChlbWFpbCwgcGFzc3dvcmQpID0+IHtcbiAgICAgIGlmICghYXV0aFNlcnZpY2UpIHJldHVybiB7IGVycm9yOiBuZXcgRXJyb3IoJ0F1dGggc2VydmljZSBub3QgaW5pdGlhbGl6ZWQnKSB9O1xuXG4gICAgICB0cnkge1xuICAgICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgICBzZXRFcnJvcihudWxsKTtcblxuICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yOiBzaWduSW5FcnJvciB9ID0gYXdhaXQgYXV0aFNlcnZpY2Uuc2lnbkluKGVtYWlsLCBwYXNzd29yZCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoc2lnbkluRXJyb3IpIHtcbiAgICAgICAgICB0aHJvdyBzaWduSW5FcnJvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IGRhdGEgfTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdTaWduIGluIGVycm9yOicsIGVycik7XG4gICAgICAgIHNldEVycm9yKGVycik7XG4gICAgICAgIHJldHVybiB7IGVycm9yOiBlcnIgfTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2F1dGhTZXJ2aWNlXVxuICApO1xuXG4gIC8vIFNpZ24gdXAgd2l0aCBlbWFpbCBhbmQgcGFzc3dvcmRcbiAgY29uc3Qgc2lnblVwID0gdXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKGVtYWlsLCBwYXNzd29yZCwgbWV0YWRhdGEgPSB7fSkgPT4ge1xuICAgICAgaWYgKCFhdXRoU2VydmljZSkgcmV0dXJuIHsgZXJyb3I6IG5ldyBFcnJvcignQXV0aCBzZXJ2aWNlIG5vdCBpbml0aWFsaXplZCcpIH07XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3I6IHNpZ25VcEVycm9yIH0gPSBhd2FpdCBhdXRoU2VydmljZS5zaWduVXAoZW1haWwsIHBhc3N3b3JkLCBtZXRhZGF0YSk7XG4gICAgICAgIFxuICAgICAgICBpZiAoc2lnblVwRXJyb3IpIHtcbiAgICAgICAgICB0aHJvdyBzaWduVXBFcnJvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IGRhdGEgfTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdTaWduIHVwIGVycm9yOicsIGVycik7XG4gICAgICAgIHNldEVycm9yKGVycik7XG4gICAgICAgIHJldHVybiB7IGVycm9yOiBlcnIgfTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2F1dGhTZXJ2aWNlXVxuICApO1xuXG4gIC8vIFNpZ24gaW4gd2l0aCBtYWdpYyBsaW5rIChwYXNzd29yZGxlc3MpXG4gIGNvbnN0IHNpZ25JbldpdGhNYWdpY0xpbmsgPSB1c2VDYWxsYmFjayhcbiAgICBhc3luYyAoZW1haWwpID0+IHtcbiAgICAgIGlmICghYXV0aFNlcnZpY2UpIHJldHVybiB7IGVycm9yOiBuZXcgRXJyb3IoJ0F1dGggc2VydmljZSBub3QgaW5pdGlhbGl6ZWQnKSB9O1xuXG4gICAgICB0cnkge1xuICAgICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgICBzZXRFcnJvcihudWxsKTtcblxuICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yOiBtYWdpY0xpbmtFcnJvciB9ID0gYXdhaXQgYXV0aFNlcnZpY2Uuc2lnbkluV2l0aE1hZ2ljTGluayhlbWFpbCk7XG4gICAgICAgIFxuICAgICAgICBpZiAobWFnaWNMaW5rRXJyb3IpIHtcbiAgICAgICAgICB0aHJvdyBtYWdpY0xpbmtFcnJvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IGRhdGEgfTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdNYWdpYyBsaW5rIHNpZ24gaW4gZXJyb3I6JywgZXJyKTtcbiAgICAgICAgc2V0RXJyb3IoZXJyKTtcbiAgICAgICAgcmV0dXJuIHsgZXJyb3I6IGVyciB9O1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbYXV0aFNlcnZpY2VdXG4gICk7XG5cbiAgLy8gU2lnbiBvdXRcbiAgY29uc3Qgc2lnbk91dCA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWF1dGhTZXJ2aWNlKSByZXR1cm47XG5cbiAgICB0cnkge1xuICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgICBjb25zdCB7IGVycm9yOiBzaWduT3V0RXJyb3IgfSA9IGF3YWl0IGF1dGhTZXJ2aWNlLnNpZ25PdXQoKTtcbiAgICAgIFxuICAgICAgaWYgKHNpZ25PdXRFcnJvcikge1xuICAgICAgICB0aHJvdyBzaWduT3V0RXJyb3I7XG4gICAgICB9XG5cbiAgICAgIHNldFVzZXIobnVsbCk7XG4gICAgICBzZXRTZXNzaW9uKG51bGwpO1xuICAgICAgc2V0T3JnYW5pemF0aW9uKG51bGwpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignU2lnbiBvdXQgZXJyb3I6JywgZXJyKTtcbiAgICAgIHNldEVycm9yKGVycik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW2F1dGhTZXJ2aWNlXSk7XG5cbiAgLy8gUmVzZXQgcGFzc3dvcmRcbiAgY29uc3QgcmVzZXRQYXNzd29yZCA9IHVzZUNhbGxiYWNrKFxuICAgIGFzeW5jIChlbWFpbCkgPT4ge1xuICAgICAgaWYgKCFhdXRoU2VydmljZSkgcmV0dXJuIHsgZXJyb3I6IG5ldyBFcnJvcignQXV0aCBzZXJ2aWNlIG5vdCBpbml0aWFsaXplZCcpIH07XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3I6IHJlc2V0RXJyb3IgfSA9IGF3YWl0IGF1dGhTZXJ2aWNlLnJlc2V0UGFzc3dvcmQoZW1haWwpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHJlc2V0RXJyb3IpIHtcbiAgICAgICAgICB0aHJvdyByZXNldEVycm9yO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgZGF0YSB9O1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1Bhc3N3b3JkIHJlc2V0IGVycm9yOicsIGVycik7XG4gICAgICAgIHNldEVycm9yKGVycik7XG4gICAgICAgIHJldHVybiB7IGVycm9yOiBlcnIgfTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2F1dGhTZXJ2aWNlXVxuICApO1xuXG4gIC8vIFVwZGF0ZSBwYXNzd29yZFxuICBjb25zdCB1cGRhdGVQYXNzd29yZCA9IHVzZUNhbGxiYWNrKFxuICAgIGFzeW5jIChuZXdQYXNzd29yZCkgPT4ge1xuICAgICAgaWYgKCFhdXRoU2VydmljZSkgcmV0dXJuIHsgZXJyb3I6IG5ldyBFcnJvcignQXV0aCBzZXJ2aWNlIG5vdCBpbml0aWFsaXplZCcpIH07XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3I6IHVwZGF0ZUVycm9yIH0gPSBhd2FpdCBhdXRoU2VydmljZS51cGRhdGVQYXNzd29yZChuZXdQYXNzd29yZCk7XG4gICAgICAgIFxuICAgICAgICBpZiAodXBkYXRlRXJyb3IpIHtcbiAgICAgICAgICB0aHJvdyB1cGRhdGVFcnJvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IGRhdGEgfTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdQYXNzd29yZCB1cGRhdGUgZXJyb3I6JywgZXJyKTtcbiAgICAgICAgc2V0RXJyb3IoZXJyKTtcbiAgICAgICAgcmV0dXJuIHsgZXJyb3I6IGVyciB9O1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbYXV0aFNlcnZpY2VdXG4gICk7XG5cbiAgLy8gVXBkYXRlIHVzZXIgcHJvZmlsZVxuICBjb25zdCB1cGRhdGVQcm9maWxlID0gdXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKHByb2ZpbGVEYXRhKSA9PiB7XG4gICAgICBpZiAoIWF1dGhTZXJ2aWNlKSByZXR1cm4geyBlcnJvcjogbmV3IEVycm9yKCdBdXRoIHNlcnZpY2Ugbm90IGluaXRpYWxpemVkJykgfTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgc2V0RXJyb3IobnVsbCk7XG5cbiAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IGF1dGhTZXJ2aWNlLnVwZGF0ZVVzZXJNZXRhZGF0YShwcm9maWxlRGF0YSk7XG4gICAgICAgIFxuICAgICAgICBpZiAodXBkYXRlRXJyb3IpIHtcbiAgICAgICAgICB0aHJvdyB1cGRhdGVFcnJvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVwZGF0ZSBsb2NhbCB1c2VyIHN0YXRlIHdpdGggbmV3IHByb2ZpbGUgZGF0YVxuICAgICAgICBpZiAoZGF0YT8udXNlcikge1xuICAgICAgICAgIHNldFVzZXIoZGF0YS51c2VyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IGRhdGEgfTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdQcm9maWxlIHVwZGF0ZSBlcnJvcjonLCBlcnIpO1xuICAgICAgICBzZXRFcnJvcihlcnIpO1xuICAgICAgICByZXR1cm4geyBlcnJvcjogZXJyIH07XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFthdXRoU2VydmljZV1cbiAgKTtcblxuICAvLyBTZXQgY3VycmVudCBvcmdhbml6YXRpb24gZm9yIG11bHRpLXRlbmFudCBmdW5jdGlvbmFsaXR5XG4gIGNvbnN0IHNldEN1cnJlbnRPcmdhbml6YXRpb24gPSB1c2VDYWxsYmFjaygob3JnKSA9PiB7XG4gICAgc2V0T3JnYW5pemF0aW9uKG9yZyk7XG4gIH0sIFtdKTtcblxuICAvLyBSZXR1cm4gYXV0aGVudGljYXRpb24gc3RhdGUgYW5kIG1ldGhvZHNcbiAgcmV0dXJuIHtcbiAgICB1c2VyLFxuICAgIHNlc3Npb24sXG4gICAgbG9hZGluZyxcbiAgICBlcnJvcixcbiAgICBvcmdhbml6YXRpb24sXG4gICAgaXNBdXRoZW50aWNhdGVkOiAhIXVzZXIgJiYgISFzZXNzaW9uLFxuICAgIHNpZ25JbixcbiAgICBzaWduVXAsXG4gICAgc2lnbkluV2l0aE1hZ2ljTGluayxcbiAgICBzaWduT3V0LFxuICAgIHJlc2V0UGFzc3dvcmQsXG4gICAgdXBkYXRlUGFzc3dvcmQsXG4gICAgdXBkYXRlUHJvZmlsZSxcbiAgICBzZXRDdXJyZW50T3JnYW5pemF0aW9uXG4gIH07XG59XG5cbi8vIEV4cG9ydCB0aGUgcGxhY2Vob2xkZXIgc2VydmljZXMgZm9yIGltcG9ydHMgaW4gQXV0aENvbnRleHRcbmV4cG9ydCB7IEF1dGhTZXJ2aWNlLCBVc2VyUHJvZmlsZSB9OyJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwidXNlTWVtbyIsIkF1dGhTZXJ2aWNlIiwiZ2V0U2Vzc2lvbiIsImRhdGEiLCJlcnJvciIsImdldFVzZXIiLCJvbkF1dGhTdGF0ZUNoYW5nZSIsImNhbGxiYWNrIiwic3Vic2NyaXB0aW9uIiwidW5zdWJzY3JpYmUiLCJzaWduSW4iLCJzaWduVXAiLCJzaWduSW5XaXRoTWFnaWNMaW5rIiwic2lnbk91dCIsInJlc2V0UGFzc3dvcmQiLCJ1cGRhdGVQYXNzd29yZCIsInVwZGF0ZVVzZXJNZXRhZGF0YSIsImNvbnN0cnVjdG9yIiwiVXNlclByb2ZpbGUiLCJjcmVhdGVQcm9maWxlIiwidXBkYXRlUHJvZmlsZSIsImdldFByb2ZpbGUiLCJ1c2VBdXRoIiwidXNlciIsInNldFVzZXIiLCJzZXNzaW9uIiwic2V0U2Vzc2lvbiIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwic2V0RXJyb3IiLCJvcmdhbml6YXRpb24iLCJzZXRPcmdhbml6YXRpb24iLCJhdXRoU2VydmljZSIsImVyciIsImNvbnNvbGUiLCJpbml0aWFsaXplQXV0aCIsInNlc3Npb25EYXRhIiwic2Vzc2lvbkVycm9yIiwidXNlckRhdGEiLCJ1c2VyRXJyb3IiLCJ1c2VyUHJvZmlsZSIsInVzZXJfbWV0YWRhdGEiLCJvcmdhbml6YXRpb25faWQiLCJpZCIsIm5hbWUiLCJvcmdhbml6YXRpb25fbmFtZSIsImF1dGhMaXN0ZW5lciIsImV2ZW50IiwibG9nIiwiZW1haWwiLCJwYXNzd29yZCIsIkVycm9yIiwic2lnbkluRXJyb3IiLCJtZXRhZGF0YSIsInNpZ25VcEVycm9yIiwibWFnaWNMaW5rRXJyb3IiLCJzaWduT3V0RXJyb3IiLCJyZXNldEVycm9yIiwibmV3UGFzc3dvcmQiLCJ1cGRhdGVFcnJvciIsInByb2ZpbGVEYXRhIiwic2V0Q3VycmVudE9yZ2FuaXphdGlvbiIsIm9yZyIsImlzQXV0aGVudGljYXRlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/hooks/useAuth.js\n"));

/***/ }),

/***/ "./src/pages/_app.js":
/*!***************************!*\
  !*** ./src/pages/_app.js ***!
  \***************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../styles/globals.css */ \"./src/styles/globals.css\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_styles_globals_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_pdf__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-pdf */ \"./node_modules/react-pdf/dist/esm/index.js\");\n/* harmony import */ var _context_ThemeContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../context/ThemeContext */ \"./src/context/ThemeContext.js\");\n/* harmony import */ var _context_AuthContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../context/AuthContext */ \"./src/context/AuthContext.js\");\n/* harmony import */ var _context_ApiContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../context/ApiContext */ \"./src/context/ApiContext.js\");\n/* harmony import */ var _utils_organizationContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/organizationContext */ \"./src/utils/organizationContext.js\");\n/* harmony import */ var react_query__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-query */ \"./node_modules/react-query/es/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n// Initialize PDF.js worker\nreact_pdf__WEBPACK_IMPORTED_MODULE_9__.pdfjs.GlobalWorkerOptions.workerSrc = \"//cdnjs.cloudflare.com/ajax/libs/pdf.js/\".concat(react_pdf__WEBPACK_IMPORTED_MODULE_9__.pdfjs.version, \"/pdf.worker.min.js\");\n// Create a client for axios\nconst apiClient = axios__WEBPACK_IMPORTED_MODULE_10__[\"default\"].create({\n    baseURL: \"http://localhost:8004\" || 0,\n    headers: {\n        \"Content-Type\": \"application/json\"\n    }\n});\n// Create a query client\nconst queryClient = new react_query__WEBPACK_IMPORTED_MODULE_8__.QueryClient({\n    defaultOptions: {\n        queries: {\n            refetchOnWindowFocus: false,\n            retry: 1\n        }\n    }\n});\nfunction AuthenticatedApp(param) {\n    let { Component, pageProps } = param;\n    _s();\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const { user, loading, isAuthenticated } = (0,_context_AuthContext__WEBPACK_IMPORTED_MODULE_5__.useAuth)();\n    // Basic routes that don't require authentication\n    const publicRoutes = [\n        \"/login\",\n        \"/register\",\n        \"/forgot-password\",\n        \"/auth/reset-password\",\n        \"/auth/callback\"\n    ];\n    // Skip authentication checks in development mode\n    const isDevMode = \"development\" === \"development\";\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{\n        if (isDevMode) return; // Skip in development mode\n        // If not a public route and not authenticated, redirect to login\n        if (!loading && !isAuthenticated && !publicRoutes.includes(router.pathname)) {\n            router.push(\"/login\");\n        }\n        // If authenticated and on a public route, redirect to dashboard\n        if (!loading && isAuthenticated && publicRoutes.includes(router.pathname)) {\n            router.push(\"/dashboard\");\n        }\n    }, [\n        loading,\n        isAuthenticated,\n        router.pathname,\n        isDevMode\n    ]);\n    // Show loading state (but skip in dev mode)\n    if (!isDevMode && loading && !publicRoutes.includes(router.pathname)) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-8 bg-white dark:bg-gray-800 rounded-lg shadow-md\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col items-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 dark:border-blue-400 mb-4\"\n                        }, void 0, false, {\n                            fileName: \"/Users/luzuko/Project_2025/sdk_next_react_version/frontend/src/pages/_app.js\",\n                            lineNumber: 63,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-xl font-semibold text-gray-700 dark:text-gray-200\",\n                            children: \"Loading...\"\n                        }, void 0, false, {\n                            fileName: \"/Users/luzuko/Project_2025/sdk_next_react_version/frontend/src/pages/_app.js\",\n                            lineNumber: 64,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-gray-500 dark:text-gray-400\",\n                            children: \"Please wait while we set things up for you.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/luzuko/Project_2025/sdk_next_react_version/frontend/src/pages/_app.js\",\n                            lineNumber: 65,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/luzuko/Project_2025/sdk_next_react_version/frontend/src/pages/_app.js\",\n                    lineNumber: 62,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/luzuko/Project_2025/sdk_next_react_version/frontend/src/pages/_app.js\",\n                lineNumber: 61,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/luzuko/Project_2025/sdk_next_react_version/frontend/src/pages/_app.js\",\n            lineNumber: 60,\n            columnNumber: 7\n        }, this);\n    }\n    // If authenticated, sync auth token with API client\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{\n        if (isAuthenticated && user) {\n            // Set the auth token in the API client\n            if (user.token) {\n                apiClient.defaults.headers.common[\"Authorization\"] = \"Bearer \".concat(user.token);\n            }\n            // Set organization ID in headers if available\n            if (user.organizationId) {\n                apiClient.defaults.headers.common[\"X-Organization-ID\"] = user.organizationId;\n            }\n        } else {\n            // Clear auth state when not authenticated\n            delete apiClient.defaults.headers.common[\"Authorization\"];\n            delete apiClient.defaults.headers.common[\"X-Organization-ID\"];\n        }\n    }, [\n        isAuthenticated,\n        user\n    ]);\n    // For public routes, render the component directly\n    // For protected routes, only render if authenticated (which we've already checked above)\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n        ...pageProps\n    }, void 0, false, {\n        fileName: \"/Users/luzuko/Project_2025/sdk_next_react_version/frontend/src/pages/_app.js\",\n        lineNumber: 93,\n        columnNumber: 10\n    }, this);\n}\n_s(AuthenticatedApp, \"Tg63T9OecFjpGe0bbxWkUVs1EKI=\", false, function() {\n    return [\n        next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter,\n        _context_AuthContext__WEBPACK_IMPORTED_MODULE_5__.useAuth\n    ];\n});\n_c = AuthenticatedApp;\nfunction MyApp(param) {\n    let { Component, pageProps } = param;\n    return(// Wrap the application with our providers\n    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_query__WEBPACK_IMPORTED_MODULE_8__.QueryClientProvider, {\n        client: queryClient,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_context_ApiContext__WEBPACK_IMPORTED_MODULE_6__.ApiProvider, {\n            apiClient: apiClient,\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_context_ThemeContext__WEBPACK_IMPORTED_MODULE_4__.ThemeProvider, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_context_AuthContext__WEBPACK_IMPORTED_MODULE_5__.AuthProvider, {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthenticatedApp, {\n                        Component: Component,\n                        pageProps: pageProps\n                    }, void 0, false, {\n                        fileName: \"/Users/luzuko/Project_2025/sdk_next_react_version/frontend/src/pages/_app.js\",\n                        lineNumber: 103,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/luzuko/Project_2025/sdk_next_react_version/frontend/src/pages/_app.js\",\n                    lineNumber: 102,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/luzuko/Project_2025/sdk_next_react_version/frontend/src/pages/_app.js\",\n                lineNumber: 101,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/luzuko/Project_2025/sdk_next_react_version/frontend/src/pages/_app.js\",\n            lineNumber: 100,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/luzuko/Project_2025/sdk_next_react_version/frontend/src/pages/_app.js\",\n        lineNumber: 99,\n        columnNumber: 5\n    }, this));\n}\n_c1 = MyApp;\n/* harmony default export */ __webpack_exports__[\"default\"] = (MyApp);\nvar _c, _c1;\n$RefreshReg$(_c, \"AuthenticatedApp\");\n$RefreshReg$(_c1, \"MyApp\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LHlGQUF5RjtJQUN6RixxQkFBTyw4REFBQ0g7UUFBVyxHQUFHQyxTQUFTOzs7Ozs7QUFDakM7R0E3RFNGOztRQUNRMUIsa0RBQVNBO1FBQ21CSyx5REFBT0E7OztLQUYzQ3FCO0FBK0RULFNBQVNvQixNQUFNLEtBQXdCO1FBQXhCLEVBQUVuQixTQUFTLEVBQUVDLFNBQVMsRUFBRSxHQUF4QjtJQUNiLE9BQ0UsMENBQTBDO2tCQUMxQyw4REFBQ25CLDREQUFtQkE7UUFBQ3NDLFFBQVExQjtrQkFDM0IsNEVBQUNmLDREQUFXQTtZQUFDUSxXQUFXQTtzQkFDdEIsNEVBQUNYLGdFQUFhQTswQkFDWiw0RUFBQ0MsOERBQVlBOzhCQUNYLDRFQUFDc0I7d0JBQWlCQyxXQUFXQTt3QkFBV0MsV0FBV0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTS9EO01BYlNrQjtBQWVULCtEQUFlQSxLQUFLQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9wYWdlcy9fYXBwLmpzPzhmZGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuLi9zdHlsZXMvZ2xvYmFscy5jc3MnO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9yb3V0ZXInO1xuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcGRmanMgfSBmcm9tICdyZWFjdC1wZGYnO1xuaW1wb3J0IHsgVGhlbWVQcm92aWRlciB9IGZyb20gJy4uL2NvbnRleHQvVGhlbWVDb250ZXh0JztcbmltcG9ydCB7IEF1dGhQcm92aWRlciwgdXNlQXV0aCB9IGZyb20gJy4uL2NvbnRleHQvQXV0aENvbnRleHQnO1xuaW1wb3J0IHsgQXBpUHJvdmlkZXIgfSBmcm9tICcuLi9jb250ZXh0L0FwaUNvbnRleHQnO1xuaW1wb3J0IHsgT3JnYW5pemF0aW9uUHJvdmlkZXIgfSBmcm9tICcuLi91dGlscy9vcmdhbml6YXRpb25Db250ZXh0JztcbmltcG9ydCB7IFF1ZXJ5Q2xpZW50LCBRdWVyeUNsaWVudFByb3ZpZGVyIH0gZnJvbSAncmVhY3QtcXVlcnknO1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcblxuLy8gSW5pdGlhbGl6ZSBQREYuanMgd29ya2VyXG5wZGZqcy5HbG9iYWxXb3JrZXJPcHRpb25zLndvcmtlclNyYyA9IGAvL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9wZGYuanMvJHtwZGZqcy52ZXJzaW9ufS9wZGYud29ya2VyLm1pbi5qc2A7XG5cbi8vIENyZWF0ZSBhIGNsaWVudCBmb3IgYXhpb3NcbmNvbnN0IGFwaUNsaWVudCA9IGF4aW9zLmNyZWF0ZSh7XG4gIGJhc2VVUkw6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMS9hcGknLFxuICBoZWFkZXJzOiB7XG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgfVxufSk7XG5cbi8vIENyZWF0ZSBhIHF1ZXJ5IGNsaWVudFxuY29uc3QgcXVlcnlDbGllbnQgPSBuZXcgUXVlcnlDbGllbnQoe1xuICBkZWZhdWx0T3B0aW9uczoge1xuICAgIHF1ZXJpZXM6IHtcbiAgICAgIHJlZmV0Y2hPbldpbmRvd0ZvY3VzOiBmYWxzZSxcbiAgICAgIHJldHJ5OiAxLFxuICAgIH0sXG4gIH0sXG59KTtcblxuZnVuY3Rpb24gQXV0aGVudGljYXRlZEFwcCh7IENvbXBvbmVudCwgcGFnZVByb3BzIH0pIHtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IHsgdXNlciwgbG9hZGluZywgaXNBdXRoZW50aWNhdGVkIH0gPSB1c2VBdXRoKCk7XG5cbiAgLy8gQmFzaWMgcm91dGVzIHRoYXQgZG9uJ3QgcmVxdWlyZSBhdXRoZW50aWNhdGlvblxuICBjb25zdCBwdWJsaWNSb3V0ZXMgPSBbJy9sb2dpbicsICcvcmVnaXN0ZXInLCAnL2ZvcmdvdC1wYXNzd29yZCcsICcvYXV0aC9yZXNldC1wYXNzd29yZCcsICcvYXV0aC9jYWxsYmFjayddO1xuXG4gIC8vIFNraXAgYXV0aGVudGljYXRpb24gY2hlY2tzIGluIGRldmVsb3BtZW50IG1vZGVcbiAgY29uc3QgaXNEZXZNb2RlID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCc7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNEZXZNb2RlKSByZXR1cm47IC8vIFNraXAgaW4gZGV2ZWxvcG1lbnQgbW9kZVxuXG4gICAgLy8gSWYgbm90IGEgcHVibGljIHJvdXRlIGFuZCBub3QgYXV0aGVudGljYXRlZCwgcmVkaXJlY3QgdG8gbG9naW5cbiAgICBpZiAoIWxvYWRpbmcgJiYgIWlzQXV0aGVudGljYXRlZCAmJiAhcHVibGljUm91dGVzLmluY2x1ZGVzKHJvdXRlci5wYXRobmFtZSkpIHtcbiAgICAgIHJvdXRlci5wdXNoKCcvbG9naW4nKTtcbiAgICB9XG5cbiAgICAvLyBJZiBhdXRoZW50aWNhdGVkIGFuZCBvbiBhIHB1YmxpYyByb3V0ZSwgcmVkaXJlY3QgdG8gZGFzaGJvYXJkXG4gICAgaWYgKCFsb2FkaW5nICYmIGlzQXV0aGVudGljYXRlZCAmJiBwdWJsaWNSb3V0ZXMuaW5jbHVkZXMocm91dGVyLnBhdGhuYW1lKSkge1xuICAgICAgcm91dGVyLnB1c2goJy9kYXNoYm9hcmQnKTtcbiAgICB9XG4gIH0sIFtsb2FkaW5nLCBpc0F1dGhlbnRpY2F0ZWQsIHJvdXRlci5wYXRobmFtZSwgaXNEZXZNb2RlXSk7XG5cbiAgLy8gU2hvdyBsb2FkaW5nIHN0YXRlIChidXQgc2tpcCBpbiBkZXYgbW9kZSlcbiAgaWYgKCFpc0Rldk1vZGUgJiYgbG9hZGluZyAmJiAhcHVibGljUm91dGVzLmluY2x1ZGVzKHJvdXRlci5wYXRobmFtZSkpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtaW4taC1zY3JlZW4gYmctZ3JheS0xMDAgZGFyazpiZy1ncmF5LTkwMFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtOCBiZy13aGl0ZSBkYXJrOmJnLWdyYXktODAwIHJvdW5kZWQtbGcgc2hhZG93LW1kXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtMTIgdy0xMiBib3JkZXItdC0yIGJvcmRlci1iLTIgYm9yZGVyLWJsdWUtNTAwIGRhcms6Ym9yZGVyLWJsdWUtNDAwIG1iLTRcIj48L2Rpdj5cbiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0yMDBcIj5Mb2FkaW5nLi4uPC9oMj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+UGxlYXNlIHdhaXQgd2hpbGUgd2Ugc2V0IHRoaW5ncyB1cCBmb3IgeW91LjwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgLy8gSWYgYXV0aGVudGljYXRlZCwgc3luYyBhdXRoIHRva2VuIHdpdGggQVBJIGNsaWVudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc0F1dGhlbnRpY2F0ZWQgJiYgdXNlcikge1xuICAgICAgLy8gU2V0IHRoZSBhdXRoIHRva2VuIGluIHRoZSBBUEkgY2xpZW50XG4gICAgICBpZiAodXNlci50b2tlbikge1xuICAgICAgICBhcGlDbGllbnQuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9IGBCZWFyZXIgJHt1c2VyLnRva2VufWA7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFNldCBvcmdhbml6YXRpb24gSUQgaW4gaGVhZGVycyBpZiBhdmFpbGFibGVcbiAgICAgIGlmICh1c2VyLm9yZ2FuaXphdGlvbklkKSB7XG4gICAgICAgIGFwaUNsaWVudC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnWC1Pcmdhbml6YXRpb24tSUQnXSA9IHVzZXIub3JnYW5pemF0aW9uSWQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENsZWFyIGF1dGggc3RhdGUgd2hlbiBub3QgYXV0aGVudGljYXRlZFxuICAgICAgZGVsZXRlIGFwaUNsaWVudC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddO1xuICAgICAgZGVsZXRlIGFwaUNsaWVudC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnWC1Pcmdhbml6YXRpb24tSUQnXTtcbiAgICB9XG4gIH0sIFtpc0F1dGhlbnRpY2F0ZWQsIHVzZXJdKTtcblxuICAvLyBGb3IgcHVibGljIHJvdXRlcywgcmVuZGVyIHRoZSBjb21wb25lbnQgZGlyZWN0bHlcbiAgLy8gRm9yIHByb3RlY3RlZCByb3V0ZXMsIG9ubHkgcmVuZGVyIGlmIGF1dGhlbnRpY2F0ZWQgKHdoaWNoIHdlJ3ZlIGFscmVhZHkgY2hlY2tlZCBhYm92ZSlcbiAgcmV0dXJuIDxDb21wb25lbnQgey4uLnBhZ2VQcm9wc30gLz47XG59XG5cbmZ1bmN0aW9uIE15QXBwKHsgQ29tcG9uZW50LCBwYWdlUHJvcHMgfSkge1xuICByZXR1cm4gKFxuICAgIC8vIFdyYXAgdGhlIGFwcGxpY2F0aW9uIHdpdGggb3VyIHByb3ZpZGVyc1xuICAgIDxRdWVyeUNsaWVudFByb3ZpZGVyIGNsaWVudD17cXVlcnlDbGllbnR9PlxuICAgICAgPEFwaVByb3ZpZGVyIGFwaUNsaWVudD17YXBpQ2xpZW50fT5cbiAgICAgICAgPFRoZW1lUHJvdmlkZXI+XG4gICAgICAgICAgPEF1dGhQcm92aWRlcj5cbiAgICAgICAgICAgIDxBdXRoZW50aWNhdGVkQXBwIENvbXBvbmVudD17Q29tcG9uZW50fSBwYWdlUHJvcHM9e3BhZ2VQcm9wc30gLz5cbiAgICAgICAgICA8L0F1dGhQcm92aWRlcj5cbiAgICAgICAgPC9UaGVtZVByb3ZpZGVyPlxuICAgICAgPC9BcGlQcm92aWRlcj5cbiAgICA8L1F1ZXJ5Q2xpZW50UHJvdmlkZXI+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IE15QXBwOyJdLCJuYW1lcyI6WyJ1c2VSb3V0ZXIiLCJ1c2VFZmZlY3QiLCJwZGZqcyIsIlRoZW1lUHJvdmlkZXIiLCJBdXRoUHJvdmlkZXIiLCJ1c2VBdXRoIiwiQXBpUHJvdmlkZXIiLCJPcmdhbml6YXRpb25Qcm92aWRlciIsIlF1ZXJ5Q2xpZW50IiwiUXVlcnlDbGllbnRQcm92aWRlciIsImF4aW9zIiwiR2xvYmFsV29ya2VyT3B0aW9ucyIsIndvcmtlclNyYyIsInZlcnNpb24iLCJhcGlDbGllbnQiLCJjcmVhdGUiLCJiYXNlVVJMIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJoZWFkZXJzIiwicXVlcnlDbGllbnQiLCJkZWZhdWx0T3B0aW9ucyIsInF1ZXJpZXMiLCJyZWZldGNoT25XaW5kb3dGb2N1cyIsInJldHJ5IiwiQXV0aGVudGljYXRlZEFwcCIsIkNvbXBvbmVudCIsInBhZ2VQcm9wcyIsInJvdXRlciIsInVzZXIiLCJsb2FkaW5nIiwiaXNBdXRoZW50aWNhdGVkIiwicHVibGljUm91dGVzIiwiaXNEZXZNb2RlIiwiaW5jbHVkZXMiLCJwYXRobmFtZSIsInB1c2giLCJkaXYiLCJjbGFzc05hbWUiLCJoMiIsInAiLCJ0b2tlbiIsImRlZmF1bHRzIiwiY29tbW9uIiwib3JnYW5pemF0aW9uSWQiLCJNeUFwcCIsImNsaWVudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/pages/_app.js\n"));

/***/ }),

/***/ "./src/utils/organizationContext.js":
/*!******************************************!*\
  !*** ./src/utils/organizationContext.js ***!
  \******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OrganizationProvider: function() { return /* binding */ OrganizationProvider; },\n/* harmony export */   useOrganization: function() { return /* binding */ useOrganization; },\n/* harmony export */   useOrganizationApi: function() { return /* binding */ useOrganizationApi; },\n/* harmony export */   withOrganization: function() { return /* binding */ withOrganization; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _hooks_useAuth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../hooks/useAuth */ \"./src/hooks/useAuth.js\");\n/**\n * Organization Context Utility\n * \n * This utility handles organization switching and management in the frontend.\n */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$();\n\n\n// Create organization context\nconst OrganizationContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(null);\n/**\n * Organization Provider component\n * Provides organization context to the application\n */ function OrganizationProvider(param) {\n    let { children } = param;\n    _s();\n    const { user, isAuthenticated } = (0,_hooks_useAuth__WEBPACK_IMPORTED_MODULE_2__.useAuth)();\n    const [organizations, setOrganizations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentOrganization, setCurrentOrganization] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Fetch user's organizations\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isAuthenticated) {\n            fetchUserOrganizations();\n        } else {\n            setOrganizations([]);\n            setCurrentOrganization(null);\n            setLoading(false);\n        }\n    }, [\n        isAuthenticated,\n        user\n    ]);\n    // Fetch user's organizations from API\n    const fetchUserOrganizations = async ()=>{\n        try {\n            setLoading(true);\n            const response = await fetch(\"/api/organizations\", {\n                method: \"GET\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Bearer \".concat(localStorage.getItem(\"supabase.auth.token\"))\n                }\n            });\n            if (!response.ok) {\n                throw new Error(\"Error fetching organizations: \".concat(response.statusText));\n            }\n            const data = await response.json();\n            setOrganizations(data.organizations || []);\n            // Set current organization to the default one or the first in the list\n            const defaultOrg = data.organizations.find((org)=>org.is_default);\n            setCurrentOrganization(defaultOrg || data.organizations[0] || null);\n            setLoading(false);\n        } catch (err) {\n            console.error(\"Error fetching organizations:\", err);\n            setError(err.message);\n            setLoading(false);\n        }\n    };\n    // Switch to a different organization\n    const switchOrganization = async (orgId)=>{\n        try {\n            // Find the organization in the list\n            const org = organizations.find((o)=>o.id === orgId);\n            if (!org) {\n                throw new Error(\"Organization not found\");\n            }\n            // Update current organization\n            setCurrentOrganization(org);\n            // Set as default if it's not already\n            if (!org.is_default) {\n                await setDefaultOrganization(orgId);\n            }\n            return true;\n        } catch (err) {\n            console.error(\"Error switching organization:\", err);\n            setError(err.message);\n            return false;\n        }\n    };\n    // Set default organization\n    const setDefaultOrganization = async (orgId)=>{\n        try {\n            const response = await fetch(\"/api/user/default-organization/\".concat(orgId), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Bearer \".concat(localStorage.getItem(\"supabase.auth.token\"))\n                }\n            });\n            if (!response.ok) {\n                throw new Error(\"Error setting default organization: \".concat(response.statusText));\n            }\n            // Update local state\n            setOrganizations((orgs)=>orgs.map((org)=>({\n                        ...org,\n                        is_default: org.id === orgId\n                    })));\n            return true;\n        } catch (err) {\n            console.error(\"Error setting default organization:\", err);\n            setError(err.message);\n            return false;\n        }\n    };\n    // Create a new organization\n    const createOrganization = async (orgData)=>{\n        try {\n            const response = await fetch(\"/api/organizations\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Bearer \".concat(localStorage.getItem(\"supabase.auth.token\"))\n                },\n                body: JSON.stringify(orgData)\n            });\n            if (!response.ok) {\n                throw new Error(\"Error creating organization: \".concat(response.statusText));\n            }\n            const data = await response.json();\n            // Refetch organizations to get the updated list\n            await fetchUserOrganizations();\n            return data;\n        } catch (err) {\n            console.error(\"Error creating organization:\", err);\n            setError(err.message);\n            throw err;\n        }\n    };\n    // Get organization members\n    const getOrganizationMembers = async (orgId)=>{\n        try {\n            const response = await fetch(\"/api/organizations/\".concat(orgId, \"/members\"), {\n                method: \"GET\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Bearer \".concat(localStorage.getItem(\"supabase.auth.token\"))\n                }\n            });\n            if (!response.ok) {\n                throw new Error(\"Error fetching organization members: \".concat(response.statusText));\n            }\n            const data = await response.json();\n            return data.members;\n        } catch (err) {\n            console.error(\"Error fetching organization members:\", err);\n            setError(err.message);\n            throw err;\n        }\n    };\n    // Invite a new member to the organization\n    const inviteMember = async function(orgId, email) {\n        let role = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"member\";\n        try {\n            const response = await fetch(\"/api/organizations/\".concat(orgId, \"/invitations\"), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Bearer \".concat(localStorage.getItem(\"supabase.auth.token\"))\n                },\n                body: JSON.stringify({\n                    email,\n                    role\n                })\n            });\n            if (!response.ok) {\n                throw new Error(\"Error inviting member: \".concat(response.statusText));\n            }\n            const data = await response.json();\n            return data;\n        } catch (err) {\n            console.error(\"Error inviting member:\", err);\n            setError(err.message);\n            throw err;\n        }\n    };\n    // Get API headers with organization context\n    const getApiHeaders = ()=>{\n        const headers = {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": \"Bearer \".concat(localStorage.getItem(\"supabase.auth.token\"))\n        };\n        if (currentOrganization) {\n            headers[\"X-Organization-ID\"] = currentOrganization.id;\n        }\n        return headers;\n    };\n    // Prepare context value\n    const contextValue = {\n        organizations,\n        currentOrganization,\n        loading,\n        error,\n        switchOrganization,\n        createOrganization,\n        getOrganizationMembers,\n        inviteMember,\n        getApiHeaders,\n        refreshOrganizations: fetchUserOrganizations\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(OrganizationContext.Provider, {\n        value: contextValue,\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/luzuko/Project_2025/sdk_next_react_version/frontend/src/utils/organizationContext.js\",\n        lineNumber: 227,\n        columnNumber: 5\n    }, this);\n}\n_s(OrganizationProvider, \"y4dj1YXKV1BsJfIbJPuQCZGdQlk=\", false, function() {\n    return [\n        _hooks_useAuth__WEBPACK_IMPORTED_MODULE_2__.useAuth\n    ];\n});\n_c = OrganizationProvider;\n/**\n * Hook to use the organization context\n */ function useOrganization() {\n    _s1();\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(OrganizationContext);\n    if (!context) {\n        throw new Error(\"useOrganization must be used within an OrganizationProvider\");\n    }\n    return context;\n}\n_s1(useOrganization, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n/**\n * Higher-order component to add organization context to a component\n */ function withOrganization(Component) {\n    return function WithOrganizationComponent(props) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(OrganizationContext.Consumer, {\n            children: (context)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n                    ...props,\n                    organization: context\n                }, void 0, false, {\n                    fileName: \"/Users/luzuko/Project_2025/sdk_next_react_version/frontend/src/utils/organizationContext.js\",\n                    lineNumber: 251,\n                    columnNumber: 23\n                }, this)\n        }, void 0, false, {\n            fileName: \"/Users/luzuko/Project_2025/sdk_next_react_version/frontend/src/utils/organizationContext.js\",\n            lineNumber: 250,\n            columnNumber: 7\n        }, this);\n    };\n}\n/**\n * Hook to handle API requests with organization context\n */ function useOrganizationApi() {\n    _s2();\n    const { getApiHeaders, currentOrganization } = useOrganization();\n    // Make an API request with organization context\n    const apiRequest = async function(url) {\n        let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n        // Get headers with organization context\n        const headers = getApiHeaders();\n        // Merge with provided options\n        const mergedOptions = {\n            ...options,\n            headers: {\n                ...headers,\n                ...options.headers || {}\n            }\n        };\n        // Make the request\n        const response = await fetch(url, mergedOptions);\n        // Handle response\n        if (!response.ok) {\n            const errorText = await response.text();\n            throw new Error(errorText || response.statusText);\n        }\n        return response.json();\n    };\n    return {\n        apiRequest,\n        orgId: currentOrganization === null || currentOrganization === void 0 ? void 0 : currentOrganization.id\n    };\n}\n_s2(useOrganizationApi, \"szhSqSAn8RZilhNWoK1wkMFSaqY=\", false, function() {\n    return [\n        useOrganization\n    ];\n});\nvar _c;\n$RefreshReg$(_c, \"OrganizationProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bkIsTUFBTUgsV0FBVyxNQUFNQyxNQUFNaUQsS0FBS0U7UUFFbEMsa0JBQWtCO1FBQ2xCLElBQUksQ0FBQ3BELFNBQVNNLEVBQUUsRUFBRTtZQUNoQixNQUFNK0MsWUFBWSxNQUFNckQsU0FBU3NELElBQUk7WUFDckMsTUFBTSxJQUFJL0MsTUFBTThDLGFBQWFyRCxTQUFTUSxVQUFVO1FBQ2xEO1FBRUEsT0FBT1IsU0FBU1UsSUFBSTtJQUN0QjtJQUVBLE9BQU87UUFDTHVDO1FBQ0E5QixLQUFLLEVBQUUxQixnQ0FBQUEsMENBQUFBLG9CQUFxQjRCLEVBQUU7SUFDaEM7QUFDRjtJQWpDZ0IyQjs7UUFDaUNSIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy91dGlscy9vcmdhbml6YXRpb25Db250ZXh0LmpzP2Y4ODMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBPcmdhbml6YXRpb24gQ29udGV4dCBVdGlsaXR5XG4gKiBcbiAqIFRoaXMgdXRpbGl0eSBoYW5kbGVzIG9yZ2FuaXphdGlvbiBzd2l0Y2hpbmcgYW5kIG1hbmFnZW1lbnQgaW4gdGhlIGZyb250ZW5kLlxuICovXG5cbmltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSAnLi4vaG9va3MvdXNlQXV0aCc7XG5cbi8vIENyZWF0ZSBvcmdhbml6YXRpb24gY29udGV4dFxuY29uc3QgT3JnYW5pemF0aW9uQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQobnVsbCk7XG5cbi8qKlxuICogT3JnYW5pemF0aW9uIFByb3ZpZGVyIGNvbXBvbmVudFxuICogUHJvdmlkZXMgb3JnYW5pemF0aW9uIGNvbnRleHQgdG8gdGhlIGFwcGxpY2F0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBPcmdhbml6YXRpb25Qcm92aWRlcih7IGNoaWxkcmVuIH0pIHtcbiAgY29uc3QgeyB1c2VyLCBpc0F1dGhlbnRpY2F0ZWQgfSA9IHVzZUF1dGgoKTtcbiAgY29uc3QgW29yZ2FuaXphdGlvbnMsIHNldE9yZ2FuaXphdGlvbnNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbY3VycmVudE9yZ2FuaXphdGlvbiwgc2V0Q3VycmVudE9yZ2FuaXphdGlvbl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUobnVsbCk7XG5cbiAgLy8gRmV0Y2ggdXNlcidzIG9yZ2FuaXphdGlvbnNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICBmZXRjaFVzZXJPcmdhbml6YXRpb25zKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldE9yZ2FuaXphdGlvbnMoW10pO1xuICAgICAgc2V0Q3VycmVudE9yZ2FuaXphdGlvbihudWxsKTtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW2lzQXV0aGVudGljYXRlZCwgdXNlcl0pO1xuXG4gIC8vIEZldGNoIHVzZXIncyBvcmdhbml6YXRpb25zIGZyb20gQVBJXG4gIGNvbnN0IGZldGNoVXNlck9yZ2FuaXphdGlvbnMgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL29yZ2FuaXphdGlvbnMnLCB7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke2xvY2FsU3RvcmFnZS5nZXRJdGVtKCdzdXBhYmFzZS5hdXRoLnRva2VuJyl9YCxcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBmZXRjaGluZyBvcmdhbml6YXRpb25zOiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBzZXRPcmdhbml6YXRpb25zKGRhdGEub3JnYW5pemF0aW9ucyB8fCBbXSk7XG4gICAgICBcbiAgICAgIC8vIFNldCBjdXJyZW50IG9yZ2FuaXphdGlvbiB0byB0aGUgZGVmYXVsdCBvbmUgb3IgdGhlIGZpcnN0IGluIHRoZSBsaXN0XG4gICAgICBjb25zdCBkZWZhdWx0T3JnID0gZGF0YS5vcmdhbml6YXRpb25zLmZpbmQob3JnID0+IG9yZy5pc19kZWZhdWx0KTtcbiAgICAgIHNldEN1cnJlbnRPcmdhbml6YXRpb24oZGVmYXVsdE9yZyB8fCBkYXRhLm9yZ2FuaXphdGlvbnNbMF0gfHwgbnVsbCk7XG4gICAgICBcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgb3JnYW5pemF0aW9uczonLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFN3aXRjaCB0byBhIGRpZmZlcmVudCBvcmdhbml6YXRpb25cbiAgY29uc3Qgc3dpdGNoT3JnYW5pemF0aW9uID0gYXN5bmMgKG9yZ0lkKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEZpbmQgdGhlIG9yZ2FuaXphdGlvbiBpbiB0aGUgbGlzdFxuICAgICAgY29uc3Qgb3JnID0gb3JnYW5pemF0aW9ucy5maW5kKG8gPT4gby5pZCA9PT0gb3JnSWQpO1xuICAgICAgaWYgKCFvcmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPcmdhbml6YXRpb24gbm90IGZvdW5kJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSBjdXJyZW50IG9yZ2FuaXphdGlvblxuICAgICAgc2V0Q3VycmVudE9yZ2FuaXphdGlvbihvcmcpO1xuXG4gICAgICAvLyBTZXQgYXMgZGVmYXVsdCBpZiBpdCdzIG5vdCBhbHJlYWR5XG4gICAgICBpZiAoIW9yZy5pc19kZWZhdWx0KSB7XG4gICAgICAgIGF3YWl0IHNldERlZmF1bHRPcmdhbml6YXRpb24ob3JnSWQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN3aXRjaGluZyBvcmdhbml6YXRpb246JywgZXJyKTtcbiAgICAgIHNldEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgLy8gU2V0IGRlZmF1bHQgb3JnYW5pemF0aW9uXG4gIGNvbnN0IHNldERlZmF1bHRPcmdhbml6YXRpb24gPSBhc3luYyAob3JnSWQpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS91c2VyL2RlZmF1bHQtb3JnYW5pemF0aW9uLyR7b3JnSWR9YCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3N1cGFiYXNlLmF1dGgudG9rZW4nKX1gLFxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIHNldHRpbmcgZGVmYXVsdCBvcmdhbml6YXRpb246ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIGxvY2FsIHN0YXRlXG4gICAgICBzZXRPcmdhbml6YXRpb25zKG9yZ3MgPT4gb3Jncy5tYXAob3JnID0+ICh7XG4gICAgICAgIC4uLm9yZyxcbiAgICAgICAgaXNfZGVmYXVsdDogb3JnLmlkID09PSBvcmdJZFxuICAgICAgfSkpKTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZXR0aW5nIGRlZmF1bHQgb3JnYW5pemF0aW9uOicsIGVycik7XG4gICAgICBzZXRFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIC8vIENyZWF0ZSBhIG5ldyBvcmdhbml6YXRpb25cbiAgY29uc3QgY3JlYXRlT3JnYW5pemF0aW9uID0gYXN5bmMgKG9yZ0RhdGEpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9vcmdhbml6YXRpb25zJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3N1cGFiYXNlLmF1dGgudG9rZW4nKX1gLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShvcmdEYXRhKSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgY3JlYXRpbmcgb3JnYW5pemF0aW9uOiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIC8vIFJlZmV0Y2ggb3JnYW5pemF0aW9ucyB0byBnZXQgdGhlIHVwZGF0ZWQgbGlzdFxuICAgICAgYXdhaXQgZmV0Y2hVc2VyT3JnYW5pemF0aW9ucygpO1xuICAgICAgXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIG9yZ2FuaXphdGlvbjonLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfTtcblxuICAvLyBHZXQgb3JnYW5pemF0aW9uIG1lbWJlcnNcbiAgY29uc3QgZ2V0T3JnYW5pemF0aW9uTWVtYmVycyA9IGFzeW5jIChvcmdJZCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL29yZ2FuaXphdGlvbnMvJHtvcmdJZH0vbWVtYmVyc2AsIHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3N1cGFiYXNlLmF1dGgudG9rZW4nKX1gLFxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIGZldGNoaW5nIG9yZ2FuaXphdGlvbiBtZW1iZXJzOiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICByZXR1cm4gZGF0YS5tZW1iZXJzO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgb3JnYW5pemF0aW9uIG1lbWJlcnM6JywgZXJyKTtcbiAgICAgIHNldEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH07XG5cbiAgLy8gSW52aXRlIGEgbmV3IG1lbWJlciB0byB0aGUgb3JnYW5pemF0aW9uXG4gIGNvbnN0IGludml0ZU1lbWJlciA9IGFzeW5jIChvcmdJZCwgZW1haWwsIHJvbGUgPSAnbWVtYmVyJykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL29yZ2FuaXphdGlvbnMvJHtvcmdJZH0vaW52aXRhdGlvbnNgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHtsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3VwYWJhc2UuYXV0aC50b2tlbicpfWAsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgZW1haWwsIHJvbGUgfSksXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIGludml0aW5nIG1lbWJlcjogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbnZpdGluZyBtZW1iZXI6JywgZXJyKTtcbiAgICAgIHNldEVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH07XG5cbiAgLy8gR2V0IEFQSSBoZWFkZXJzIHdpdGggb3JnYW5pemF0aW9uIGNvbnRleHRcbiAgY29uc3QgZ2V0QXBpSGVhZGVycyA9ICgpID0+IHtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke2xvY2FsU3RvcmFnZS5nZXRJdGVtKCdzdXBhYmFzZS5hdXRoLnRva2VuJyl9YCxcbiAgICB9O1xuXG4gICAgaWYgKGN1cnJlbnRPcmdhbml6YXRpb24pIHtcbiAgICAgIGhlYWRlcnNbJ1gtT3JnYW5pemF0aW9uLUlEJ10gPSBjdXJyZW50T3JnYW5pemF0aW9uLmlkO1xuICAgIH1cblxuICAgIHJldHVybiBoZWFkZXJzO1xuICB9O1xuXG4gIC8vIFByZXBhcmUgY29udGV4dCB2YWx1ZVxuICBjb25zdCBjb250ZXh0VmFsdWUgPSB7XG4gICAgb3JnYW5pemF0aW9ucyxcbiAgICBjdXJyZW50T3JnYW5pemF0aW9uLFxuICAgIGxvYWRpbmcsXG4gICAgZXJyb3IsXG4gICAgc3dpdGNoT3JnYW5pemF0aW9uLFxuICAgIGNyZWF0ZU9yZ2FuaXphdGlvbixcbiAgICBnZXRPcmdhbml6YXRpb25NZW1iZXJzLFxuICAgIGludml0ZU1lbWJlcixcbiAgICBnZXRBcGlIZWFkZXJzLFxuICAgIHJlZnJlc2hPcmdhbml6YXRpb25zOiBmZXRjaFVzZXJPcmdhbml6YXRpb25zLFxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPE9yZ2FuaXphdGlvbkNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHRWYWx1ZX0+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9Pcmdhbml6YXRpb25Db250ZXh0LlByb3ZpZGVyPlxuICApO1xufVxuXG4vKipcbiAqIEhvb2sgdG8gdXNlIHRoZSBvcmdhbml6YXRpb24gY29udGV4dFxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlT3JnYW5pemF0aW9uKCkge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChPcmdhbml6YXRpb25Db250ZXh0KTtcbiAgaWYgKCFjb250ZXh0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1c2VPcmdhbml6YXRpb24gbXVzdCBiZSB1c2VkIHdpdGhpbiBhbiBPcmdhbml6YXRpb25Qcm92aWRlcicpO1xuICB9XG4gIHJldHVybiBjb250ZXh0O1xufVxuXG4vKipcbiAqIEhpZ2hlci1vcmRlciBjb21wb25lbnQgdG8gYWRkIG9yZ2FuaXphdGlvbiBjb250ZXh0IHRvIGEgY29tcG9uZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aXRoT3JnYW5pemF0aW9uKENvbXBvbmVudCkge1xuICByZXR1cm4gZnVuY3Rpb24gV2l0aE9yZ2FuaXphdGlvbkNvbXBvbmVudChwcm9wcykge1xuICAgIHJldHVybiAoXG4gICAgICA8T3JnYW5pemF0aW9uQ29udGV4dC5Db25zdW1lcj5cbiAgICAgICAgeyhjb250ZXh0KSA9PiA8Q29tcG9uZW50IHsuLi5wcm9wc30gb3JnYW5pemF0aW9uPXtjb250ZXh0fSAvPn1cbiAgICAgIDwvT3JnYW5pemF0aW9uQ29udGV4dC5Db25zdW1lcj5cbiAgICApO1xuICB9O1xufVxuXG4vKipcbiAqIEhvb2sgdG8gaGFuZGxlIEFQSSByZXF1ZXN0cyB3aXRoIG9yZ2FuaXphdGlvbiBjb250ZXh0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VPcmdhbml6YXRpb25BcGkoKSB7XG4gIGNvbnN0IHsgZ2V0QXBpSGVhZGVycywgY3VycmVudE9yZ2FuaXphdGlvbiB9ID0gdXNlT3JnYW5pemF0aW9uKCk7XG4gIFxuICAvLyBNYWtlIGFuIEFQSSByZXF1ZXN0IHdpdGggb3JnYW5pemF0aW9uIGNvbnRleHRcbiAgY29uc3QgYXBpUmVxdWVzdCA9IGFzeW5jICh1cmwsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIC8vIEdldCBoZWFkZXJzIHdpdGggb3JnYW5pemF0aW9uIGNvbnRleHRcbiAgICBjb25zdCBoZWFkZXJzID0gZ2V0QXBpSGVhZGVycygpO1xuICAgIFxuICAgIC8vIE1lcmdlIHdpdGggcHJvdmlkZWQgb3B0aW9uc1xuICAgIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAuLi5oZWFkZXJzLFxuICAgICAgICAuLi4ob3B0aW9ucy5oZWFkZXJzIHx8IHt9KSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBcbiAgICAvLyBNYWtlIHRoZSByZXF1ZXN0XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIG1lcmdlZE9wdGlvbnMpO1xuICAgIFxuICAgIC8vIEhhbmRsZSByZXNwb25zZVxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclRleHQgfHwgcmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gIH07XG4gIFxuICByZXR1cm4ge1xuICAgIGFwaVJlcXVlc3QsXG4gICAgb3JnSWQ6IGN1cnJlbnRPcmdhbml6YXRpb24/LmlkLFxuICB9O1xufSJdLCJuYW1lcyI6WyJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlQXV0aCIsIk9yZ2FuaXphdGlvbkNvbnRleHQiLCJPcmdhbml6YXRpb25Qcm92aWRlciIsImNoaWxkcmVuIiwidXNlciIsImlzQXV0aGVudGljYXRlZCIsIm9yZ2FuaXphdGlvbnMiLCJzZXRPcmdhbml6YXRpb25zIiwiY3VycmVudE9yZ2FuaXphdGlvbiIsInNldEN1cnJlbnRPcmdhbml6YXRpb24iLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJmZXRjaFVzZXJPcmdhbml6YXRpb25zIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwib2siLCJFcnJvciIsInN0YXR1c1RleHQiLCJkYXRhIiwianNvbiIsImRlZmF1bHRPcmciLCJmaW5kIiwib3JnIiwiaXNfZGVmYXVsdCIsImVyciIsImNvbnNvbGUiLCJtZXNzYWdlIiwic3dpdGNoT3JnYW5pemF0aW9uIiwib3JnSWQiLCJvIiwiaWQiLCJzZXREZWZhdWx0T3JnYW5pemF0aW9uIiwib3JncyIsIm1hcCIsImNyZWF0ZU9yZ2FuaXphdGlvbiIsIm9yZ0RhdGEiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImdldE9yZ2FuaXphdGlvbk1lbWJlcnMiLCJtZW1iZXJzIiwiaW52aXRlTWVtYmVyIiwiZW1haWwiLCJyb2xlIiwiZ2V0QXBpSGVhZGVycyIsImNvbnRleHRWYWx1ZSIsInJlZnJlc2hPcmdhbml6YXRpb25zIiwiUHJvdmlkZXIiLCJ2YWx1ZSIsInVzZU9yZ2FuaXphdGlvbiIsImNvbnRleHQiLCJ3aXRoT3JnYW5pemF0aW9uIiwiQ29tcG9uZW50IiwiV2l0aE9yZ2FuaXphdGlvbkNvbXBvbmVudCIsInByb3BzIiwiQ29uc3VtZXIiLCJvcmdhbml6YXRpb24iLCJ1c2VPcmdhbml6YXRpb25BcGkiLCJhcGlSZXF1ZXN0IiwidXJsIiwib3B0aW9ucyIsIm1lcmdlZE9wdGlvbnMiLCJlcnJvclRleHQiLCJ0ZXh0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/utils/organizationContext.js\n"));

/***/ })

});